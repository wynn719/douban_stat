{"version":3,"sources":["webpack:///static/js/app.5a35ebd7d21c72b82395.js","webpack:///./src/main.js","webpack:///./src/douban.js","webpack:///./src/lib/d_cache.js","webpack:///./src/router-map.js","webpack:///Echarts.vue","webpack:///App.vue","webpack:///chart.vue","webpack:///book-stat.vue","webpack:///home.vue","webpack:///unknown.vue","webpack:///./~/vue-echarts/src/components/Echarts.vue?d49b","webpack:///./src/App.vue?d818","webpack:///./src/components/footer.vue?cbbf","webpack:///./src/view/home.vue?7618","webpack:///./src/view/unknown.vue?31b1","webpack:///./src/components/chart.vue?bfcb","webpack:///./src/components/header.vue?a17b","webpack:///./src/view/book-stat.vue?b67a","webpack:///./src/App.vue","webpack:///./src/components/chart.vue","webpack:///./src/components/footer.vue","webpack:///./src/components/header.vue","webpack:///./src/view/book-stat.vue","webpack:///./src/view/home.vue","webpack:///./src/view/unknown.vue","webpack:///./~/vue-echarts/src/components/Echarts.vue"],"names":["webpackJsonp","0","module","exports","__webpack_require__","_interopRequireDefault","obj","__esModule","default","_vue","_vue2","_App","_App2","_vueResource","_vueResource2","_vueRouter","_vueRouter2","_routerMap","_routerMap2","use","http","options","root","router","history","saveScrollPosition","transitionOnLoad","map","beforeEach","_ref","to","next","path","query","go","redirect","*","start","165","Object","defineProperty","value","_stringify","_stringify2","_promise","_promise2","_assign","_assign2","_d_cache","_d_cache2","URL_ROOT","CACHE_TIME","fetchBooks","fnSuccess","fnError","now","Date","getTime","data","self","this","get","userID","JSON","parse","timeStamp","param1","count","getBook","then","basicData","arr","len","total","push","promises","params2","jsonp","response","status","all","collections","i","_len","length","res","j","len1","formatDataForChart","err","params","promise","resolve","reject","current","books","forEach","item","updated","substring","split","year","mouth","Number","undefined","rating","_i","add","166","localStorage","window","key","getItem","setItem","e","_isQuotaExceeded","clear","destory","removeItem","quotaExceeded","code","name","number","167","_home","_home2","_bookStat","_bookStat2","_unknown","_unknown2","","component","home","/book","/unknown","168","_echarts","_echarts2","ACTION_EVENTS","MOUSE_EVENTS","props","chart","computed","width","cache","getter","getWidth","height","getHeight","isDisposed","methods","mergeOptions","setOption","resize","dispatchAction","payload","showLoading","hideLoading","getDataURL","dispose","ready","_this","init","$el","theme","initOptions","$watch","deep","group","event","on","$dispatch","connect","disconnect","registerMap","geoData","area","registerTheme","169","_header","_header2","_footer","_footer2","components","app-header","app-footer","170","_Echarts","_Echarts2","chartData","type","required","171","172","_vueStrap","_chart","_chart2","_douban","_douban2","readYear","spinner","created","$refs","show","$route","userid","setUser","setStatistics","setTagsInfo","setBooksChart","setBooksRatingsChart","hide","error","console","log","booksTotal","user","firstRead","lastRead","readTime","allReadDay","years","tags","statu","allReadTime","firstReadDay","lastReadDay","averageDay","toFixed","title","text","left","bottom","tooltip","trigger","axisPointer","legend","grid","containLabel","xAxis","yAxis","series","stack","reading","wish","read","$http","loadFaild","ret","bookTags","tagName","indexOf","$router","173","userurl","personReg","test","replace","substr","174","goBack","back","468","469","470","471","472","473","474","475","476","477","478","479","480","481","482","483","484","485","__vue_script__","__vue_template__","template","486","487","488","489","490","491","492"],"mappings":"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IRkhBWxF,MQjhBX,ORkhBW+F,cQhhBX,GRkhBSC,QACEjD,KQhhBX,WRihBWpI,MAAO,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,MAAO,MQ9gB/E,SRghBSsL,QACElD,KQ5gBX,UR8gBSmD,SACExH,KQ5gBX,KR6gBWqE,KQ5gBX,MR6gBWoD,MQ5gBX,OR6gBWxL,KAAMA,EAAKqB,OQ1gBtBoK,UR4gBW1H,KQ1gBX,KR2gBWqE,KQ1gBX,MR2gBWoD,MQ1gBX,OR2gBWxL,KAAMA,EAAKqB,OQxgBtBqK,OR0gBW3H,KQxgBX,KRygBWqE,KQxgBX,MRygBWoD,MQxgBX,ORygBWxL,KAAMA,EAAKqB,OQrgBtBsK,ORwgBOzL,MAAKiI,UAAUkC,MQvgBtB1M,GR0gBK6L,qBAAsB,SAA8BxJ,GAClD,GAAIrC,IACFgN,OACEC,KAAM/B,EQtgBjB,WRugBWgC,KQtgBX,SRugBWC,OQrgBX,IRugBSC,SACEC,QQtgBX,ORugBWC,aACE7C,KQpgBb,WRugBS8C,QACElL,MAAO,KAAM,KAAM,KAAM,KAAM,KQrgB1C,ORugBSmL,MACEN,KQtgBX,IRugBWxF,MQtgBX,ORugBW+F,cQrgBX,GRugBSC,QACEjD,KQrgBX,WRsgBWpI,MAAO,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,MAAO,MQngB/E,SRqgBSsL,QACElD,KQjgBX,URmgBSmD,SACExH,KQjgBX,KRkgBWqE,KQjgBX,MRkgBWoD,MQjgBX,ORkgBWxL,KAAMA,EAAK+C,OQ/ftB,eRigBWgB,KQ/fX,KRggBWqE,KQ/fX,MRggBWoD,MQ/fX,ORggBWxL,KAAMA,EAAK+C,OQ7ftB,KR+fWgB,KQ7fX,KR8fWqE,KQ7fX,MR8fWoD,MQ7fX,OR8fWxL,KAAMA,EAAK+C,OQ3ftB,KR6fWgB,KQ3fX,KR4fWqE,KQ3fX,MR4fWoD,MQ3fX,OR4fWxL,KAAMA,EAAK+C,OQzftB,KR2fWgB,KQzfX,KR0fWqE,KQzfX,MR0fWoD,MQzfX,OR0fWxL,KAAMA,EAAK+C,OQvftB,KRyfWgB,KQvfX,KRwfWqE,KQvfX,MRwfWoD,MQvfX,OR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","file":"static/js/app.5a35ebd7d21c72b82395.js","sourcesContent":["webpackJsonp([2,0],{\n\n/***/ 0:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _vue = __webpack_require__(163);\n\t\n\tvar _vue2 = _interopRequireDefault(_vue);\n\t\n\tvar _App = __webpack_require__(485);\n\t\n\tvar _App2 = _interopRequireDefault(_App);\n\t\n\tvar _vueResource = __webpack_require__(493);\n\t\n\tvar _vueResource2 = _interopRequireDefault(_vueResource);\n\t\n\tvar _vueRouter = __webpack_require__(164);\n\t\n\tvar _vueRouter2 = _interopRequireDefault(_vueRouter);\n\t\n\tvar _routerMap = __webpack_require__(167);\n\t\n\tvar _routerMap2 = _interopRequireDefault(_routerMap);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t_vue2.default.use(_vueResource2.default);\n\t_vue2.default.http.options.root = 'https://api.douban.com';\n\t_vue2.default.use(_vueRouter2.default);\n\t\n\tvar router = new _vueRouter2.default({\n\t  history: false,\n\t  saveScrollPosition: true,\n\t  transitionOnLoad: true\n\t});\n\trouter.map(_routerMap2.default);\n\trouter.beforeEach(function (_ref) {\n\t  var to = _ref.to;\n\t  var next = _ref.next;\n\t\n\t  if (to.path === '/book' && to.query) {\n\t    router.go('/');\n\t  } else {\n\t    next();\n\t  }\n\t});\n\trouter.redirect({\n\t  '*': '/'\n\t});\n\t\n\trouter.start(_App2.default, '#app');\n\n/***/ },\n\n/***/ 165:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _stringify = __webpack_require__(175);\n\t\n\tvar _stringify2 = _interopRequireDefault(_stringify);\n\t\n\tvar _promise = __webpack_require__(177);\n\t\n\tvar _promise2 = _interopRequireDefault(_promise);\n\t\n\tvar _assign = __webpack_require__(176);\n\t\n\tvar _assign2 = _interopRequireDefault(_assign);\n\t\n\tvar _vue = __webpack_require__(163);\n\t\n\tvar _vue2 = _interopRequireDefault(_vue);\n\t\n\tvar _d_cache = __webpack_require__(166);\n\t\n\tvar _d_cache2 = _interopRequireDefault(_d_cache);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar URL_ROOT = 'https://api.douban.com/v2';\n\tvar CACHE_TIME = 1000 * 60 * 60 * 24 * 3;\n\t\n\texports.default = {\n\t  fetchBooks: function fetchBooks(options, fnSuccess, fnError) {\n\t    var now = new Date().getTime();\n\t    var data = {};\n\t    var self = this;\n\t\n\t    data = _d_cache2.default.get(options.userID);\n\t    if (data) {\n\t      data = JSON.parse(data);\n\t\n\t      if (data.timeStamp + CACHE_TIME > now) {\n\t        fnSuccess(data);\n\t        return;\n\t      }\n\t    }\n\t\n\t    var param1 = {\n\t      count: 1\n\t    };\n\t    (0, _assign2.default)(param1, options);\n\t\n\t    this.getBook(param1).then(function (basicData) {\n\t      var arr = [];\n\t      for (var start = 0, len = basicData.total; start < len; start += 100) {\n\t        arr.push(start);\n\t      }\n\t\n\t      var promises = arr.map(function (start) {\n\t        var params2 = {\n\t          start: start,\n\t          count: 100\n\t        };\n\t        (0, _assign2.default)(params2, options);\n\t        return _vue2.default.http.jsonp(URL_ROOT + '/book/user/' + params2.userID + '/collections', params2).then(function (response) {\n\t          if (response.status === 200) {\n\t            return response.data;\n\t          }\n\t        });\n\t      });\n\t      _promise2.default.all(promises).then(function (response) {\n\t        var data = {\n\t          collections: [],\n\t          total: 0\n\t        };\n\t        for (var i = 0, _len = response.length; i < _len; i++) {\n\t          var res = response[i].collections;\n\t          for (var j = 0, len1 = res.length; j < len1; j++) {\n\t            data.collections.push(res[j]);\n\t          }\n\t        }\n\t        data.total = basicData.total;\n\t\n\t        data = self.formatDataForChart(data, options.userID);\n\t        fnSuccess(data);\n\t      }).catch(function (err) {\n\t        fnError(err);\n\t      });\n\t    });\n\t  },\n\t\n\t  getBook: function getBook(options) {\n\t    var params = {\n\t      count: 100 };\n\t    (0, _assign2.default)(params, options);\n\t    var promise = new _promise2.default(function (resolve, reject) {\n\t      _vue2.default.http.jsonp(URL_ROOT + '/book/user/' + params.userID + '/collections', params).then(function (response) {\n\t        if (response.status === 200) {\n\t          var data = response.data;\n\t\n\t          data.current = data.start + data.count;\n\t          resolve(data);\n\t        }\n\t      }).catch(function (err) {\n\t        reject(err);\n\t      });\n\t    });\n\t\n\t    return promise;\n\t  },\n\t\n\t  formatDataForChart: function formatDataForChart(books, userID) {\n\t    var now = new Date().getTime();\n\t    var collections = books.collections;\n\t    var data = {};\n\t\n\t    collections.forEach(function (item) {\n\t      var updated = item.updated.substring(0, 7).split('-');\n\t      var year = updated[0];\n\t      var mouth = Number(updated[1]);\n\t\n\t      if (!data[year]) {\n\t        data[year] = {};\n\t      }\n\t\n\t      if (!data[year]['collections']) {\n\t        data[year]['collections'] = [];\n\t      }\n\t      data[year]['collections'].push(item);\n\t      if (!data[year]['books']) {\n\t        data[year]['books'] = {};\n\t      }\n\t      if (!data[year]['books'][item.status]) {\n\t        data[year]['books'][item.status] = [];\n\t      }\n\t      data[year]['books'][item.status].push(item);\n\t\n\t      if (!data[year]['status']) {\n\t        data[year]['status'] = {};\n\t      }\n\t      if (!data[year]['status'][item.status]) {\n\t        data[year]['status'][item.status] = [];\n\t      }\n\t      for (var i = 0; i < 12; i++) {\n\t        if (!data[year]['status'][item.status][i]) {\n\t          data[year]['status'][item.status][i] = null;\n\t        }\n\t      }\n\t      data[year]['status'][item.status][mouth - 1]++;\n\t\n\t      if (item.status === 'read') {\n\t        if (!data[year]['rating']) {\n\t          data[year]['rating'] = {};\n\t        }\n\t        if (item.rating === undefined) {\n\t          item.rating = {};\n\t          item.rating.value = 'no-rating';\n\t        }\n\t        if (!data[year]['rating'][item.rating.value]) {\n\t          data[year]['rating'][item.rating.value] = [];\n\t        }\n\t        for (var _i = 0; _i < 12; _i++) {\n\t          if (!data[year]['rating'][item.rating.value][_i]) {\n\t            data[year]['rating'][item.rating.value][_i] = null;\n\t          }\n\t        }\n\t        data[year]['rating'][item.rating.value][mouth - 1]++;\n\t      }\n\t    });\n\t    if (!data) {\n\t      return null;\n\t    }\n\t\n\t    data.timeStamp = now;\n\t    _d_cache2.default.add(userID, (0, _stringify2.default)(data));\n\t    return data;\n\t  }\n\t};\n\n/***/ },\n\n/***/ 166:\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\tvar localStorage = window.localStorage;\n\t\n\texports.default = {\n\t  get: function get(key) {\n\t    var data = localStorage.getItem(key);\n\t    return data || null;\n\t  },\n\t  add: function add(key, value) {\n\t    var self = this;\n\t    try {\n\t      localStorage.setItem(key, value);\n\t    } catch (e) {\n\t      if (self._isQuotaExceeded(e)) {\n\t        self.clear();\n\t        self.setItem(key, value);\n\t        return this;\n\t      }\n\t    }\n\t    return this;\n\t  },\n\t  destory: function destory(key) {\n\t    localStorage.removeItem(key);\n\t    return this;\n\t  },\n\t  clear: function clear() {\n\t    localStorage.clear();\n\t    return this;\n\t  },\n\t  _isQuotaExceeded: function _isQuotaExceeded(err) {\n\t    var quotaExceeded = false;\n\t    if (err) {\n\t      if (err.code) {\n\t        switch (err.code) {\n\t          case 22:\n\t            quotaExceeded = true;\n\t            break;\n\t          case 1014:\n\t            if (err.name === 'NS_ERROR_DOM_QUOTA_REACHED') {\n\t              quotaExceeded = true;\n\t            }\n\t            break;\n\t        }\n\t      }\n\t\n\t      if (err.number === -2147024882) {\n\t        quotaExceeded = true;\n\t      }\n\t    }\n\t    return quotaExceeded;\n\t  }\n\t};\n\n/***/ },\n\n/***/ 167:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _home = __webpack_require__(490);\n\t\n\tvar _home2 = _interopRequireDefault(_home);\n\t\n\tvar _bookStat = __webpack_require__(489);\n\t\n\tvar _bookStat2 = _interopRequireDefault(_bookStat);\n\t\n\tvar _unknown = __webpack_require__(491);\n\t\n\tvar _unknown2 = _interopRequireDefault(_unknown);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t  '': {\n\t    component: _home2.default\n\t  },\n\t\n\t  'home': {\n\t    component: _home2.default\n\t  },\n\t\n\t  '/book': {\n\t    component: _bookStat2.default\n\t  },\n\t\n\t  '/unknown': {\n\t    component: _unknown2.default\n\t  }\n\t};\n\n/***/ },\n\n/***/ 168:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _echarts = __webpack_require__(213);\n\t\n\tvar _echarts2 = _interopRequireDefault(_echarts);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar ACTION_EVENTS = ['legendselectchanged', 'legendselected', 'legendunselected', 'datazoom', 'datarangeselected', 'timelinechanged', 'timelineplaychanged', 'restore', 'dataviewchanged', 'magictypechanged', 'pieselectchanged', 'pieselected', 'pieunselected', 'mapselectchanged', 'mapselected', 'mapunselected'];\n\t\n\tvar MOUSE_EVENTS = ['click', 'dblclick', 'mouseover', 'mouseout', 'mousedown', 'mouseup', 'globalout'];\n\t\n\texports.default = {\n\t  props: ['options', 'theme', 'initOptions', 'group'],\n\t  data: function data() {\n\t    return {\n\t      chart: null\n\t    };\n\t  },\n\t  computed: {\n\t    width: {\n\t      cache: false,\n\t      getter: function getter() {\n\t        return this.chart.getWidth();\n\t      }\n\t    },\n\t    height: {\n\t      cache: false,\n\t      getter: function getter() {\n\t        return this.chart.getHeight();\n\t      }\n\t    },\n\t    isDisposed: {\n\t      cache: false,\n\t      getter: function getter() {\n\t        return this.chart.isDisposed();\n\t      }\n\t    }\n\t  },\n\t  methods: {\n\t    mergeOptions: function mergeOptions(options) {\n\t      this.chart.setOption(options);\n\t    },\n\t\n\t    resize: function resize() {\n\t      this.chart.resize();\n\t    },\n\t    dispatchAction: function dispatchAction(payload) {\n\t      this.chart.dispatchAction(payload);\n\t    },\n\t    showLoading: function showLoading() {\n\t      this.chart.showLoading();\n\t    },\n\t    hideLoading: function hideLoading() {\n\t      this.chart.hideLoading();\n\t    },\n\t    getDataURL: function getDataURL() {\n\t      return this.chart.getDataURL();\n\t    },\n\t    clear: function clear() {\n\t      this.chart.clear();\n\t    },\n\t    dispose: function dispose() {\n\t      this.chart.dispose();\n\t    }\n\t  },\n\t  ready: function ready() {\n\t    var _this = this;\n\t\n\t    var chart = _echarts2.default.init(this.$el, this.theme, this.initOptions);\n\t\n\t    chart.setOption(this.options);\n\t    this.$watch('options', function (options) {\n\t      chart.setOption(options, true);\n\t    }, { deep: true });\n\t\n\t    chart.group = this.group;\n\t    this.$watch('group', function (group) {\n\t      chart.group = group;\n\t    });\n\t\n\t    ACTION_EVENTS.forEach(function (event) {\n\t      chart.on(event, function (params) {\n\t        _this.$dispatch(event, params);\n\t      });\n\t    });\n\t\n\t    MOUSE_EVENTS.forEach(function (event) {\n\t      chart.on(event, function (params) {\n\t        _this.$dispatch('chart' + event, params);\n\t      });\n\t    });\n\t\n\t    this.chart = chart;\n\t  },\n\t  connect: function connect(group) {\n\t    if (typeof group !== 'string') {\n\t      group = group.map(function (chart) {\n\t        return chart.chart;\n\t      });\n\t    }\n\t    _echarts2.default.connect(group);\n\t  },\n\t  disconnect: function disconnect(group) {\n\t    _echarts2.default.connect(group);\n\t  },\n\t  registerMap: function registerMap(name, geoData, area) {\n\t    _echarts2.default.registerMap(name, geoData, area);\n\t  },\n\t  registerTheme: function registerTheme(name, theme) {\n\t    _echarts2.default.registerTheme(name, theme);\n\t  }\n\t};\n\n/***/ },\n\n/***/ 169:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\t__webpack_require__(468);\n\t\n\tvar _header = __webpack_require__(488);\n\t\n\tvar _header2 = _interopRequireDefault(_header);\n\t\n\tvar _footer = __webpack_require__(487);\n\t\n\tvar _footer2 = _interopRequireDefault(_footer);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t  components: {\n\t    'app-header': _header2.default,\n\t    'app-footer': _footer2.default\n\t  }\n\t};\n\n/***/ },\n\n/***/ 170:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _Echarts = __webpack_require__(492);\n\t\n\tvar _Echarts2 = _interopRequireDefault(_Echarts);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t  components: {\n\t    'chart': _Echarts2.default\n\t  },\n\t\n\t  props: {\n\t    chartData: {\n\t      type: Object,\n\t      required: true,\n\t      default: {}\n\t    }\n\t  }\n\t};\n\n/***/ },\n\n/***/ 171:\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = {};\n\n/***/ },\n\n/***/ 172:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _vueStrap = __webpack_require__(494);\n\t\n\tvar _chart = __webpack_require__(486);\n\t\n\tvar _chart2 = _interopRequireDefault(_chart);\n\t\n\tvar _douban = __webpack_require__(165);\n\t\n\tvar _douban2 = _interopRequireDefault(_douban);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar userID = '';\n\tvar URL_ROOT = 'https://api.douban.com/v2';\n\tvar readYear = '2016';\n\t\n\texports.default = {\n\t  components: {\n\t    'spinner': _vueStrap.spinner,\n\t    'chart': _chart2.default\n\t  },\n\t\n\t  created: function created() {},\n\t\n\t  ready: function ready() {\n\t    var _this = this;\n\t\n\t    var self = this;\n\t    this.$refs.spinner.show();\n\t    userID = this.$route.query.userid;\n\t    self.setUser();\n\t    _douban2.default.fetchBooks({\n\t      userID: userID\n\t    }, function (data) {\n\t      data = data[readYear];\n\t      if (!data) {\n\t        _this.$refs.spinner.hide();\n\t        return;\n\t      }\n\t\n\t      self.setStatistics(data);\n\t\n\t      self.setTagsInfo(data);\n\t\n\t      self.setBooksChart(data);\n\t      self.setBooksRatingsChart(data);\n\t\n\t      _this.$refs.spinner.hide();\n\t    }, function (error) {\n\t      console.log(error);\n\t    });\n\t  },\n\t\n\t  data: function data() {\n\t    return {\n\t      booksTotal: 0,\n\t      user: {},\n\t      firstRead: {},\n\t      lastRead: {},\n\t      readTime: {\n\t        allReadDay: 0\n\t      },\n\t      years: [],\n\t      tags: [],\n\t      chartData: {\n\t        statu: {},\n\t        rating: {}\n\t      },\n\t      readYear: ''\n\t    };\n\t  },\n\t\n\t\n\t  methods: {\n\t    setStatistics: function setStatistics(data) {\n\t      var books = data['books']['read'];\n\t      var self = this;\n\t      var readTime = {};\n\t      var allReadTime = 0;\n\t      var total = books.length;\n\t      var firstRead = books[total - 1];\n\t      var lastRead = books[0];\n\t\n\t      readTime.firstReadDay = firstRead.updated.substring(0, 10);\n\t      readTime.lastReadDay = lastRead.updated.substring(0, 10);\n\t      allReadTime = new Date(readTime.lastReadDay).getTime() - new Date(readTime.firstReadDay).getTime();\n\t      readTime.allReadDay = allReadTime / (60 * 60 * 24 * 1000);\n\t      readTime.averageDay = (readTime.allReadDay / total).toFixed(2);\n\t\n\t      self.booksTotal = total;\n\t      self.firstRead = firstRead;\n\t      self.lastRead = lastRead;\n\t      self.readTime = readTime;\n\t      self.readYear = readYear;\n\t    },\n\t\n\t    setBooksChart: function setBooksChart(data) {\n\t      var options = {\n\t        title: {\n\t          text: readYear + '年度图书阅读统计',\n\t          left: 'center',\n\t          bottom: 25\n\t        },\n\t        tooltip: {\n\t          trigger: 'axis',\n\t          axisPointer: {\n\t            type: 'shadow'\n\t          }\n\t        },\n\t        legend: {\n\t          data: ['在读', '想读', '已读']\n\t        },\n\t        grid: {\n\t          left: '0',\n\t          width: '100%',\n\t          containLabel: true\n\t        },\n\t        xAxis: [{\n\t          type: 'category',\n\t          data: ['1月', '2月', '3月', '4月', '5月', '6月', '7月', '8月', '9月', '10月', '11月', '12月']\n\t        }],\n\t        yAxis: [{\n\t          type: 'value'\n\t        }],\n\t        series: [{\n\t          name: '在读',\n\t          type: 'bar',\n\t          stack: '读书状态',\n\t          data: data.status.reading\n\t        }, {\n\t          name: '想读',\n\t          type: 'bar',\n\t          stack: '读书状态',\n\t          data: data.status.wish\n\t        }, {\n\t          name: '已读',\n\t          type: 'bar',\n\t          stack: '读书状态',\n\t          data: data.status.read\n\t        }]\n\t      };\n\t      this.chartData.statu = options;\n\t    },\n\t\n\t    setBooksRatingsChart: function setBooksRatingsChart(data) {\n\t      var options = {\n\t        title: {\n\t          text: readYear + '年度图书评价统计',\n\t          left: 'center',\n\t          bottom: 25\n\t        },\n\t        tooltip: {\n\t          trigger: 'axis',\n\t          axisPointer: {\n\t            type: 'shadow'\n\t          }\n\t        },\n\t        legend: {\n\t          data: ['未评', '一星', '二星', '三星', '四星', '五星']\n\t        },\n\t        grid: {\n\t          left: '0',\n\t          width: '100%',\n\t          containLabel: true\n\t        },\n\t        xAxis: [{\n\t          type: 'category',\n\t          data: ['1月', '2月', '3月', '4月', '5月', '6月', '7月', '8月', '9月', '10月', '11月', '12月']\n\t        }],\n\t        yAxis: [{\n\t          type: 'value'\n\t        }],\n\t        series: [{\n\t          name: '未评',\n\t          type: 'bar',\n\t          stack: '星级评价',\n\t          data: data.rating['no-rating']\n\t        }, {\n\t          name: '一星',\n\t          type: 'bar',\n\t          stack: '星级评价',\n\t          data: data.rating['1']\n\t        }, {\n\t          name: '二星',\n\t          type: 'bar',\n\t          stack: '星级评价',\n\t          data: data.rating['2']\n\t        }, {\n\t          name: '三星',\n\t          type: 'bar',\n\t          stack: '星级评价',\n\t          data: data.rating['3']\n\t        }, {\n\t          name: '四星',\n\t          type: 'bar',\n\t          stack: '星级评价',\n\t          data: data.rating['4']\n\t        }, {\n\t          name: '五星',\n\t          type: 'bar',\n\t          stack: '星级评价',\n\t          data: data.rating['5']\n\t        }]\n\t      };\n\t      this.chartData.rating = options;\n\t    },\n\t\n\t    setUser: function setUser() {\n\t      var self = this;\n\t      self.$http.jsonp(URL_ROOT + '/user/' + userID).then(function (response) {\n\t        if (response.status === 200) {\n\t          var data = response.data;\n\t\n\t          if (!data) return false;\n\t\n\t          self.user = data;\n\t        }\n\t      }, function (response) {\n\t        self.loadFaild();\n\t      });\n\t    },\n\t\n\t    setTagsInfo: function setTagsInfo(books) {\n\t      var ret = [];\n\t      var self = this;\n\t      books.collections.forEach(function (current) {\n\t        var bookTags = current.tags;\n\t        if (bookTags) {\n\t          bookTags.forEach(function (tagName) {\n\t            if (ret.indexOf(tagName) === -1) {\n\t              ret.push(tagName);\n\t            }\n\t          });\n\t        }\n\t      });\n\t      self.tags = ret;\n\t    },\n\t\n\t    loadFaild: function loadFaild() {\n\t      this.$refs.spinner.hide();\n\t      this.$router.go('unknown');\n\t    }\n\t  }\n\t};\n\n/***/ },\n\n/***/ 173:\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = {\n\t  data: function data() {\n\t    return {\n\t      userurl: ''\n\t    };\n\t  },\n\t\n\t\n\t  ready: function ready() {\n\t    var _this = this;\n\t\n\t    var personReg = /^https:\\/\\/www.douban.com\\/people\\/\\d+|\\w+\\d+|\\w+\\/$/;\n\t    this.$watch('userurl', function (userurl) {\n\t      if (personReg.test(userurl)) {\n\t        var userid = '';\n\t        userurl = userurl.replace(/https:\\/\\/www.douban.com\\/people\\//, '');\n\t        userid = userurl.substr(0, userurl.length - 1);\n\t\n\t        _this.$router.go({\n\t          path: 'book',\n\t          query: {\n\t            userid: userid\n\t          }\n\t        });\n\t      }\n\t    });\n\t  }\n\t};\n\n/***/ },\n\n/***/ 174:\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = {\n\t  methods: {\n\t    goBack: function goBack(event) {\n\t      this.$router.go(window.history.back());\n\t    }\n\t  }\n\t};\n\n/***/ },\n\n/***/ 468:\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n\n/***/ 469:\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n\n/***/ 470:\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n\n/***/ 471:\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n\n/***/ 472:\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n\n/***/ 473:\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n\n/***/ 474:\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n\n/***/ 475:\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n\n/***/ 476:\n/***/ function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ },\n\n/***/ 477:\n/***/ function(module, exports) {\n\n\tmodule.exports = \" <div class=echarts></div> \";\n\n/***/ },\n\n/***/ 478:\n/***/ function(module, exports) {\n\n\tmodule.exports = \" <div class=container> <router-view></router-view> <app-footer></app-footer> </div> \";\n\n/***/ },\n\n/***/ 479:\n/***/ function(module, exports) {\n\n\tmodule.exports = \" <footer> <p class=copyright>Copyright © 2016 <a href=http://zhengbowei.github.io/about title=关于我>Bowei Zheng.</a> Hosted by <a href=https://github.com/zhengbowei/douban_stat target=_blank title=github rel=nofollow>GitHub</a> and powered by <a href=http://vuejs.org.cn/ title=Vue.js官网 rel=nofollow>Vue.js</a>.</p> </footer> \";\n\n/***/ },\n\n/***/ 480:\n/***/ function(module, exports) {\n\n\tmodule.exports = \" <div class=content _v-00f2f2e0=\\\"\\\"> <p class=title _v-00f2f2e0=\\\"\\\"><strong _v-00f2f2e0=\\\"\\\">输入你的豆瓣个人主页地址：</strong></p> <input type=text class=userurl placeholder=https://www.douban.com/people/81245114/ v-model=userurl debounce=500 _v-00f2f2e0=\\\"\\\"> </div> \";\n\n/***/ },\n\n/***/ 481:\n/***/ function(module, exports) {\n\n\tmodule.exports = \" <style _v-0cc9fb4e=\\\"\\\"> /* 覆盖父级元素的样式 */\\n  .container {\\n    background-color: #000 !important;\\n  }\\n  footer * {\\n    color: #000 !important;\\n  } </style> <div class=content _v-0cc9fb4e=\\\"\\\"> <div class=face404 _v-0cc9fb4e=\\\"\\\"> <div class=\\\"eye-socket left\\\" _v-0cc9fb4e=\\\"\\\"> <div class=eye _v-0cc9fb4e=\\\"\\\"></div> </div> <div class=\\\"eye-socket right\\\" _v-0cc9fb4e=\\\"\\\"> <div class=eye _v-0cc9fb4e=\\\"\\\"></div> </div> </div> <div class=text404 _v-0cc9fb4e=\\\"\\\"> <p class=text _v-0cc9fb4e=\\\"\\\">Oh!</p> <p class=text _v-0cc9fb4e=\\\"\\\">Someting wrong!</p> <a class=redirect href=javascript:void(0) @click=goBack _v-0cc9fb4e=\\\"\\\">Go Back?</a> <a class=redirect v-link=\\\"'home'\\\" _v-0cc9fb4e=\\\"\\\">or Go Home?</a> </div> </div> \";\n\n/***/ },\n\n/***/ 482:\n/***/ function(module, exports) {\n\n\tmodule.exports = \" <chart :options=chartData _v-169fea5e=\\\"\\\"></chart> \";\n\n/***/ },\n\n/***/ 483:\n/***/ function(module, exports) {\n\n\tmodule.exports = \" <header _v-69263686=\\\"\\\"> <a v-link=\\\"'/'\\\" _v-69263686=\\\"\\\">Home</a> <a v-link=\\\"'/book'\\\" _v-69263686=\\\"\\\">book</a> </header> \";\n\n/***/ },\n\n/***/ 484:\n/***/ function(module, exports) {\n\n\tmodule.exports = \" <div class=content _v-f6ccf7f2=\\\"\\\"> <spinner id=spinner-box :size=lg text=读取中... v-ref:spinner=\\\"\\\" _v-f6ccf7f2=\\\"\\\"></spinner> <h2 _v-f6ccf7f2=\\\"\\\">{{ user.name }}的{{ readYear }}年豆瓣读书记录</h2> <div class=read-info _v-f6ccf7f2=\\\"\\\"> <p _v-f6ccf7f2=\\\"\\\">总阅读量：<strong _v-f6ccf7f2=\\\"\\\">{{ booksTotal }}</strong>本</p> <p _v-f6ccf7f2=\\\"\\\">总阅读时间：<strong _v-f6ccf7f2=\\\"\\\">{{ readTime.allReadDay }}</strong>天</p> <p v-show=readTime.firstReadDay _v-f6ccf7f2=\\\"\\\">第一本书：于<strong _v-f6ccf7f2=\\\"\\\">{{ readTime.firstReadDay }}</strong>读完《{{ firstRead.book &amp;&amp; firstRead.book.title }}》</p> <p v-show=readTime.lastReadDay _v-f6ccf7f2=\\\"\\\">最近阅读：于<strong _v-f6ccf7f2=\\\"\\\">{{ readTime.lastReadDay }}</strong>读完《{{ lastRead.book &amp;&amp; lastRead.book.title }}》</p> <p v-show=readTime.averageDay _v-f6ccf7f2=\\\"\\\">平均阅读时间：<strong _v-f6ccf7f2=\\\"\\\">{{ readTime.averageDay }}</strong>天/本</p> </div> <h3 _v-f6ccf7f2=\\\"\\\"># 图表统计</h3>  <chart :chart-data=chartData.statu _v-f6ccf7f2=\\\"\\\"></chart> <chart :chart-data=chartData.rating _v-f6ccf7f2=\\\"\\\"></chart> <h3 class=tags-title _v-f6ccf7f2=\\\"\\\"># 读书标签</h3> <div class=read-tags _v-f6ccf7f2=\\\"\\\"> <span class=\\\"tag label label-info\\\" v-for=\\\"tag in tags\\\" style=\\\"display: inline-block\\\" _v-f6ccf7f2=\\\"\\\">{{ tag }}</span> <p class=no-tag v-if=!tags.length _v-f6ccf7f2=\\\"\\\">Ta今年还没有打任何标签</p> </div> </div> \";\n\n/***/ },\n\n/***/ 485:\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_script__, __vue_template__\n\t__webpack_require__(469)\n\t__vue_script__ = __webpack_require__(169)\n\t__vue_template__ = __webpack_require__(478)\n\tmodule.exports = __vue_script__ || {}\n\tif (module.exports.__esModule) module.exports = module.exports.default\n\tif (__vue_template__) {\n\t(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n\t}\n\n\n/***/ },\n\n/***/ 486:\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_script__, __vue_template__\n\t__webpack_require__(474)\n\t__vue_script__ = __webpack_require__(170)\n\t__vue_template__ = __webpack_require__(482)\n\tmodule.exports = __vue_script__ || {}\n\tif (module.exports.__esModule) module.exports = module.exports.default\n\tif (__vue_template__) {\n\t(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n\t}\n\n\n/***/ },\n\n/***/ 487:\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_script__, __vue_template__\n\t__webpack_require__(470)\n\t__vue_template__ = __webpack_require__(479)\n\tmodule.exports = __vue_script__ || {}\n\tif (module.exports.__esModule) module.exports = module.exports.default\n\tif (__vue_template__) {\n\t(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n\t}\n\n\n/***/ },\n\n/***/ 488:\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_script__, __vue_template__\n\t__webpack_require__(475)\n\t__vue_script__ = __webpack_require__(171)\n\t__vue_template__ = __webpack_require__(483)\n\tmodule.exports = __vue_script__ || {}\n\tif (module.exports.__esModule) module.exports = module.exports.default\n\tif (__vue_template__) {\n\t(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n\t}\n\n\n/***/ },\n\n/***/ 489:\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_script__, __vue_template__\n\t__webpack_require__(476)\n\t__vue_script__ = __webpack_require__(172)\n\t__vue_template__ = __webpack_require__(484)\n\tmodule.exports = __vue_script__ || {}\n\tif (module.exports.__esModule) module.exports = module.exports.default\n\tif (__vue_template__) {\n\t(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n\t}\n\n\n/***/ },\n\n/***/ 490:\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_script__, __vue_template__\n\t__webpack_require__(472)\n\t__vue_script__ = __webpack_require__(173)\n\t__vue_template__ = __webpack_require__(480)\n\tmodule.exports = __vue_script__ || {}\n\tif (module.exports.__esModule) module.exports = module.exports.default\n\tif (__vue_template__) {\n\t(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n\t}\n\n\n/***/ },\n\n/***/ 491:\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_script__, __vue_template__\n\t__webpack_require__(473)\n\t__vue_script__ = __webpack_require__(174)\n\t__vue_template__ = __webpack_require__(481)\n\tmodule.exports = __vue_script__ || {}\n\tif (module.exports.__esModule) module.exports = module.exports.default\n\tif (__vue_template__) {\n\t(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n\t}\n\n\n/***/ },\n\n/***/ 492:\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_script__, __vue_template__\n\t__webpack_require__(471)\n\t__vue_script__ = __webpack_require__(168)\n\t__vue_template__ = __webpack_require__(477)\n\tmodule.exports = __vue_script__ || {}\n\tif (module.exports.__esModule) module.exports = module.exports.default\n\tif (__vue_template__) {\n\t(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n\t}\n\n\n/***/ }\n\n});\n\n\n/** WEBPACK FOOTER **\n ** static/js/app.5a35ebd7d21c72b82395.js\n **/","import Vue from 'vue'\r\nimport App from './App'\r\nimport VueResource from 'vue-resource'\r\nimport VueRouter from 'vue-router'\r\nimport routerMap from './router-map.js'\r\n\r\nVue.use(VueResource)\r\nVue.http.options.root = 'https://api.douban.com'\r\nVue.use(VueRouter)\r\n\r\nconst router = new VueRouter({\r\n  history: false,\r\n  saveScrollPosition: true,\r\n  transitionOnLoad: true\r\n})\r\nrouter.map(routerMap)\r\nrouter.beforeEach(({to, next}) => {\r\n  if (to.path === '/book' && to.query) {\r\n    router.go('/')\r\n  } else {\r\n    next()\r\n  }\r\n})\r\nrouter.redirect({\r\n  '*': '/'\r\n})\r\n\r\n/* eslint-disable no-new */\r\nrouter.start(App, '#app')\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/main.js\n **/","import Vue from 'vue'\r\nimport DCache from './lib/d_cache.js'\r\n\r\nconst URL_ROOT = 'https://api.douban.com/v2'\r\nconst CACHE_TIME = 1000 * 60 * 60 * 24 * 3\r\n\r\nexport default {\r\n  /**\r\n   * 取得所有的图书收藏信息\r\n   * 注：豆瓣限制了每次请求的图书数量，故通过多次请求来获取所有的数据\r\n   * @param  object   options 豆瓣图书收藏信息可选参数\r\n   * @param  function fnSuccess\r\n   * @param  function fnError\r\n   */\r\n  fetchBooks: function (options, fnSuccess, fnError) {\r\n    let now = new Date().getTime()\r\n    let data = {}\r\n    let self = this\r\n\r\n    data = DCache.get(options.userID)\r\n    if (data) {\r\n      data = JSON.parse(data)\r\n      // 缓存时间超过5天\r\n      if (data.timeStamp + CACHE_TIME > now) {\r\n        fnSuccess(data)\r\n        return\r\n      }\r\n    }\r\n\r\n    let param1 = {\r\n      count: 1\r\n    }\r\n    Object.assign(param1, options)\r\n    // 第一次拉取，主要是拉取基础数据\r\n    this.getBook(param1).then((basicData) => {\r\n      // 第二次拉取所有的数据\r\n      let arr = []\r\n      for (let start = 0, len = basicData.total; start < len; start += 100) {\r\n        arr.push(start)\r\n      }\r\n\r\n      let promises = arr.map(function (start) {\r\n        let params2 = {\r\n          start: start,\r\n          count: 100\r\n        }\r\n        Object.assign(params2, options)\r\n        return Vue.http.jsonp(URL_ROOT + '/book/user/' + params2.userID + '/collections', params2).then((response) => {\r\n          if (response.status === 200) {\r\n            return response.data\r\n          }\r\n        })\r\n      })\r\n      Promise.all(promises).then((response) => { // 整合所有promise获取完整的书籍数据\r\n        // 整合数据\r\n        let data = {\r\n          collections: [],\r\n          total: 0\r\n        }\r\n        for (let i = 0, len = response.length; i < len; i++) {\r\n          let res = response[i].collections\r\n          for (let j = 0, len1 = res.length; j < len1; j++) {\r\n            data.collections.push(res[j])\r\n          }\r\n        }\r\n        data.total = basicData.total\r\n\r\n        data = self.formatDataForChart(data, options.userID)\r\n        fnSuccess(data)\r\n      }).catch((err) => {\r\n        fnError(err)\r\n      })\r\n    })\r\n  },\r\n\r\n  /**\r\n   * 获取某个用户的图书收藏信息\r\n   * 注：只拉取一次\r\n   * @param  object  options 豆瓣图书收藏信息可选参数\r\n   * @return promise\r\n   */\r\n  getBook: function (options) {\r\n    let params = {\r\n      count: 100 // 豆瓣api限定，count最大为100\r\n    }\r\n    Object.assign(params, options)\r\n    let promise = new Promise((resolve, reject) => {\r\n      Vue.http.jsonp(URL_ROOT + '/book/user/' + params.userID + '/collections', params).then((response) => {\r\n        if (response.status === 200) {\r\n          let data = response.data\r\n\r\n          data.current = data.start + data.count\r\n          resolve(data)\r\n        }\r\n      }).catch((err) => {\r\n        reject(err)\r\n      })\r\n    })\r\n\r\n    return promise\r\n  },\r\n\r\n  /**\r\n   * 格式化所有数据，供图表等使用\r\n   * @param  object books 豆瓣获取的图书数据集\r\n   * @return object\r\n   */\r\n  formatDataForChart: function (books, userID) {\r\n    let now = new Date().getTime()\r\n    let collections = books.collections\r\n    let data = {}\r\n\r\n    collections.forEach((item) => {\r\n      let updated = item.updated.substring(0, 7).split('-')\r\n      let year = updated[0]\r\n      let mouth = Number(updated[1])\r\n\r\n      if (!data[year]) {\r\n        data[year] = {}\r\n      }\r\n      // 年份\r\n      if (!data[year]['collections']) {\r\n        data[year]['collections'] = []\r\n      }\r\n      data[year]['collections'].push(item)\r\n      if (!data[year]['books']) {\r\n        data[year]['books'] = {}\r\n      }\r\n      if (!data[year]['books'][item.status]) {\r\n        data[year]['books'][item.status] = []\r\n      }\r\n      data[year]['books'][item.status].push(item)\r\n      // 月份读书量统计数据\r\n      if (!data[year]['status']) {\r\n        data[year]['status'] = {}\r\n      }\r\n      if (!data[year]['status'][item.status]) {\r\n        data[year]['status'][item.status] = []\r\n      }\r\n      for (let i = 0; i < 12; i++) { // 补空值\r\n        if (!data[year]['status'][item.status][i]) {\r\n          data[year]['status'][item.status][i] = null\r\n        }\r\n      }\r\n      data[year]['status'][item.status][mouth - 1]++\r\n      // 月份星级评价统计数据\r\n      if (item.status === 'read') {\r\n        if (!data[year]['rating']) {\r\n          data[year]['rating'] = {}\r\n        }\r\n        if (item.rating === undefined) { // 用户无评价\r\n          item.rating = {}\r\n          item.rating.value = 'no-rating'\r\n        }\r\n        if (!data[year]['rating'][item.rating.value]) {\r\n          data[year]['rating'][item.rating.value] = []\r\n        }\r\n        for (let i = 0; i < 12; i++) { // 补空值\r\n          if (!data[year]['rating'][item.rating.value][i]) {\r\n            data[year]['rating'][item.rating.value][i] = null\r\n          }\r\n        }\r\n        data[year]['rating'][item.rating.value][mouth - 1]++\r\n      }\r\n    })\r\n    if (!data) {\r\n      return null\r\n    }\r\n    // 存入localstorage中\r\n    data.timeStamp = now\r\n    DCache.add(userID, JSON.stringify(data))\r\n    return data\r\n  }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/douban.js\n **/","let localStorage = window.localStorage\r\n\r\nexport default {\r\n  get (key) {\r\n    let data = localStorage.getItem(key)\r\n    return data || null\r\n  },\r\n\r\n  add (key, value) {\r\n    let self = this\r\n    try {\r\n      localStorage.setItem(key, value)\r\n    } catch (e) {\r\n      if (self._isQuotaExceeded(e)) { // 超出缓存容量\r\n        // 不做缓存处理\r\n        self.clear()\r\n        self.setItem(key, value)\r\n        return this\r\n      }\r\n    }\r\n    return this\r\n  },\r\n\r\n  destory (key) {\r\n    localStorage.removeItem(key)\r\n    return this\r\n  },\r\n\r\n  clear () {\r\n    localStorage.clear()\r\n    return this\r\n  },\r\n\r\n  _isQuotaExceeded (err) {\r\n    let quotaExceeded = false\r\n    if (err) {\r\n      if (err.code) {\r\n        switch (err.code) {\r\n          case 22:\r\n            quotaExceeded = true\r\n            break\r\n          case 1014:\r\n            // Firefox\r\n            if (err.name === 'NS_ERROR_DOM_QUOTA_REACHED') {\r\n              quotaExceeded = true\r\n            }\r\n            break\r\n        }\r\n      }\r\n\r\n      if (err.number === -2147024882) {\r\n        // IE 8\r\n        quotaExceeded = true\r\n      }\r\n    }\r\n    return quotaExceeded\r\n  }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/d_cache.js\n **/","import Home from './view/home.vue'\r\nimport BookView from './view/book-stat.vue'\r\nimport UnknownView from './view/unknown.vue'\r\n\r\nexport default {\r\n  '': { // 首页\r\n    component: Home\r\n  },\r\n\r\n  'home': { // 首页\r\n    component: Home\r\n  },\r\n\r\n  '/book': { // 阅读统计页\r\n    component: BookView\r\n  },\r\n\r\n  '/unknown': {\r\n    component: UnknownView\r\n  }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/router-map.js\n **/","<template>\n  <div class=\"echarts\"></div>\n</template>\n\n<style>\n.echarts {\n  width: 600px;\n  height: 400px;\n}\n</style>\n\n<script>\nimport echarts from 'echarts'\n\n// enumerated ECharts events for now\nconst ACTION_EVENTS = [\n  'legendselectchanged',\n  'legendselected',\n  'legendunselected',\n  'datazoom',\n  'datarangeselected',\n  'timelinechanged',\n  'timelineplaychanged',\n  'restore',\n  'dataviewchanged',\n  'magictypechanged',\n  'pieselectchanged',\n  'pieselected',\n  'pieunselected',\n  'mapselectchanged',\n  'mapselected',\n  'mapunselected'\n]\n\nconst MOUSE_EVENTS = [\n  'click',\n  'dblclick',\n  'mouseover',\n  'mouseout',\n  'mousedown',\n  'mouseup',\n  'globalout'\n]\n\nexport default {\n  props: ['options', 'theme', 'initOptions', 'group'],\n  data: function () {\n    return {\n      chart: null\n    }\n  },\n  computed: {\n    // Only recalculated when accessed from JavaScript.\n    // Won't update DOM on value change because getters\n    // don't depend on reactive values\n    width: {\n      cache: false,\n      getter: function () {\n        return this.chart.getWidth()\n      }\n    },\n    height: {\n      cache: false,\n      getter: function () {\n        return this.chart.getHeight()\n      }\n    },\n    isDisposed: {\n      cache: false,\n      getter: function () {\n        return this.chart.isDisposed()\n      }\n    }\n  },\n  methods: {\n    // provide a explicit merge option method\n    mergeOptions: function (options) {\n      this.chart.setOption(options)\n    },\n    // just delegates ECharts methods to Vue component\n    resize: function () {\n      this.chart.resize()\n    },\n    dispatchAction: function (payload) {\n      this.chart.dispatchAction(payload)\n    },\n    showLoading: function () {\n      this.chart.showLoading()\n    },\n    hideLoading: function () {\n      this.chart.hideLoading()\n    },\n    getDataURL: function () {\n      return this.chart.getDataURL()\n    },\n    clear: function () {\n      this.chart.clear()\n    },\n    dispose: function () {\n      this.chart.dispose()\n    }\n  },\n  ready: function () {\n    let chart = echarts.init(this.$el, this.theme, this.initOptions)\n\n    // use assign statements to tigger \"options\" and \"group\" setters\n    chart.setOption(this.options)\n    this.$watch('options', options => {\n      chart.setOption(options, true)\n    }, { deep: true })\n\n    chart.group = this.group\n    this.$watch('group', (group) => {\n      chart.group = group\n    })\n\n    // expose ECharts events as custom events\n    ACTION_EVENTS.forEach(event => {\n      chart.on(event, params => {\n        this.$dispatch(event, params)\n      })\n    })\n    // mouse events of ECharts should be renamed to prevent\n    // name collision with DOM events\n    MOUSE_EVENTS.forEach(event => {\n      chart.on(event, params => {\n        this.$dispatch('chart' + event, params)\n      })\n    })\n\n    this.chart = chart\n  },\n  connect: function (group) {\n    if (typeof group !== 'string') {\n      group = group.map(chart => chart.chart)\n    }\n    echarts.connect(group)\n  },\n  disconnect: function (group) {\n    echarts.connect(group)\n  },\n  registerMap: function (name, geoData, area) {\n    echarts.registerMap(name, geoData, area)\n  },\n  registerTheme: function (name, theme) {\n    echarts.registerTheme(name, theme)\n  }\n}\n</script>\n\n\n\n/** WEBPACK FOOTER **\n ** Echarts.vue?c8cc9542\n **/","<template>\r\n  <div class=\"container\">\r\n    <!-- <app-header></app-header> -->\r\n    <router-view></router-view>\r\n    <app-footer></app-footer>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport 'bootstrap/dist/css/bootstrap.min.css'\r\nimport AppHeader from './components/header.vue'\r\nimport AppFooter from './components/footer.vue'\r\n\r\nexport default {\r\n  components: {\r\n    'app-header': AppHeader,\r\n    'app-footer': AppFooter\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\">\r\nbody {\r\n  background-color: #f4f4f4 !important;\r\n  font-family: \"Microsoft Yahei\" !important;\r\n}\r\n#app {\r\n  margin: 100px auto;\r\n  background-color: #fff;\r\n  box-sizing: border-box;\r\n  padding: 55px;\r\n  border-radius: 6px;\r\n  position: relative;\r\n  padding-bottom: 30px;\r\n}\r\n.container {\r\n  max-width: 740px;\r\n}\r\n</style>\r\n\n\n\n/** WEBPACK FOOTER **\n ** App.vue?782efb3f\n **/","<template v-show=\"chartData\">\r\n  <chart :options=\"chartData\"></chart>\r\n</template>\r\n\r\n<script>\r\n// 引入 ECharts 主模块\r\nimport Echarts from 'vue-echarts/src/components/Echarts.vue'\r\n\r\nexport default {\r\n  components: {\r\n    'chart': Echarts\r\n  },\r\n\r\n  props: {\r\n    chartData: {\r\n      type: Object,\r\n      required: true,\r\n      default: {}\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped>\r\n.echarts {\r\n  margin-bottom: 25px;\r\n}\r\n</style>\r\n\n\n\n/** WEBPACK FOOTER **\n ** chart.vue?3471b74a\n **/","<template>\r\n  <div class=\"content\">\r\n    <spinner id=\"spinner-box\" :size=\"lg\" text=\"读取中...\" v-ref:spinner ></spinner>\r\n    \r\n    <h2>{{ user.name }}的{{ readYear }}年豆瓣读书记录</h2>\r\n\r\n    <!-- 基础统计 -->\r\n    <div class=\"read-info\">\r\n      <p>总阅读量：<strong>{{ booksTotal }}</strong>本</p>\r\n      <p>总阅读时间：<strong>{{ readTime.allReadDay }}</strong>天</p>\r\n      <p v-show=\"readTime.firstReadDay\">第一本书：于<strong>{{ readTime.firstReadDay }}</strong>读完《{{ firstRead.book && firstRead.book.title }}》</p>\r\n      <p v-show=\"readTime.lastReadDay\">最近阅读：于<strong>{{ readTime.lastReadDay }}</strong>读完《{{ lastRead.book && lastRead.book.title }}》</p>\r\n      <p v-show=\"readTime.averageDay\">平均阅读时间：<strong>{{ readTime.averageDay }}</strong>天/本</p>\r\n    </div>\r\n\r\n    <!-- 统计表 -->\r\n    <h3># 图表统计</h3>\r\n    <chart :chart-data=\"chartData.statu\"></chart>\r\n    <chart :chart-data=\"chartData.rating\"></chart>\r\n    \r\n    <!-- 阅读标签 -->\r\n    <h3 class=\"tags-title\"># 读书标签</h3>\r\n    <div class=\"read-tags\">\r\n      <span class=\"tag label label-info\" v-for=\"tag in tags\" style=\"display: inline-block\">{{ tag }}</span>\r\n      <p class=\"no-tag\" v-if=\"!tags.length\">Ta今年还没有打任何标签</p>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { spinner } from 'vue-strap'\r\nimport bookChart from '../components/chart.vue'\r\nimport douban from '../douban.js'\r\n\r\nlet userID = ''\r\nconst URL_ROOT = 'https://api.douban.com/v2'\r\nconst readYear = '2016'\r\n\r\nexport default {\r\n  components: {\r\n    'spinner': spinner,\r\n    'chart': bookChart\r\n  },\r\n\r\n  created: function () {},\r\n\r\n  ready: function () {\r\n    let self = this\r\n    this.$refs.spinner.show()\r\n    userID = this.$route.query.userid\r\n    self.setUser()\r\n    douban.fetchBooks({\r\n      userID: userID\r\n    }, (data) => { // 数据处理与绑定\r\n      data = data[readYear]\r\n      if (!data) {\r\n        this.$refs.spinner.hide()\r\n        return\r\n      }\r\n      // 设置统计数据\r\n      self.setStatistics(data)\r\n      // 设置标签信息\r\n      self.setTagsInfo(data)\r\n      // 设置图表\r\n      self.setBooksChart(data)\r\n      self.setBooksRatingsChart(data)\r\n      // 隐藏loading块\r\n      this.$refs.spinner.hide()\r\n    }, (error) => {\r\n      console.log(error)\r\n    })\r\n  },\r\n\r\n  data () {\r\n    return {\r\n      booksTotal: 0,\r\n      user: {},\r\n      firstRead: {},\r\n      lastRead: {},\r\n      readTime: {\r\n        allReadDay: 0\r\n      },\r\n      years: [],\r\n      tags: [],\r\n      chartData: {\r\n        statu: {},\r\n        rating: {}\r\n      },\r\n      readYear: ''\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    // 设置统计数据\r\n    setStatistics: function (data) {\r\n      let books = data['books']['read']\r\n      let self = this\r\n      let readTime = {}\r\n      let allReadTime = 0\r\n      let total = books.length\r\n      let firstRead = books[total - 1]\r\n      let lastRead = books[0]\r\n\r\n      readTime.firstReadDay = firstRead.updated.substring(0, 10)\r\n      readTime.lastReadDay = lastRead.updated.substring(0, 10)\r\n      allReadTime = (new Date(readTime.lastReadDay).getTime()) - (new Date(readTime.firstReadDay).getTime())\r\n      readTime.allReadDay = allReadTime / (60 * 60 * 24 * 1000)\r\n      readTime.averageDay = (readTime.allReadDay / total).toFixed(2)\r\n\r\n      self.booksTotal = total\r\n      self.firstRead = firstRead\r\n      self.lastRead = lastRead\r\n      self.readTime = readTime\r\n      self.readYear = readYear\r\n    },\r\n\r\n    // 设置每月图书统计，在读、想读、已读\r\n    setBooksChart: function (data) {\r\n      let options = {\r\n        title: {\r\n          text: readYear + '年度图书阅读统计',\r\n          left: 'center',\r\n          bottom: 25\r\n        },\r\n        tooltip: {\r\n          trigger: 'axis',\r\n          axisPointer: {\r\n            type: 'shadow'\r\n          }\r\n        },\r\n        legend: {\r\n          data: ['在读', '想读', '已读']\r\n        },\r\n        grid: {\r\n          left: '0',\r\n          width: '100%',\r\n          containLabel: true\r\n        },\r\n        xAxis: [\r\n          {\r\n            type: 'category',\r\n            data: ['1月', '2月', '3月', '4月', '5月', '6月', '7月', '8月', '9月', '10月', '11月', '12月']\r\n          }\r\n        ],\r\n        yAxis: [\r\n          {\r\n            type: 'value'\r\n          }\r\n        ],\r\n        series: [\r\n          {\r\n            name: '在读',\r\n            type: 'bar',\r\n            stack: '读书状态',\r\n            data: data.status.reading\r\n          },\r\n\r\n          {\r\n            name: '想读',\r\n            type: 'bar',\r\n            stack: '读书状态',\r\n            data: data.status.wish\r\n          },\r\n\r\n          {\r\n            name: '已读',\r\n            type: 'bar',\r\n            stack: '读书状态',\r\n            data: data.status.read\r\n          }\r\n        ]\r\n      }\r\n      this.chartData.statu = options\r\n    },\r\n\r\n    // 设置图书星级统计，未评~五星\r\n    setBooksRatingsChart: function (data) {\r\n      let options = {\r\n        title: {\r\n          text: readYear + '年度图书评价统计',\r\n          left: 'center',\r\n          bottom: 25\r\n        },\r\n        tooltip: {\r\n          trigger: 'axis',\r\n          axisPointer: {\r\n            type: 'shadow'\r\n          }\r\n        },\r\n        legend: {\r\n          data: ['未评', '一星', '二星', '三星', '四星', '五星']\r\n        },\r\n        grid: {\r\n          left: '0',\r\n          width: '100%',\r\n          containLabel: true\r\n        },\r\n        xAxis: [\r\n          {\r\n            type: 'category',\r\n            data: ['1月', '2月', '3月', '4月', '5月', '6月', '7月', '8月', '9月', '10月', '11月', '12月']\r\n          }\r\n        ],\r\n        yAxis: [\r\n          {\r\n            type: 'value'\r\n          }\r\n        ],\r\n        series: [\r\n          {\r\n            name: '未评',\r\n            type: 'bar',\r\n            stack: '星级评价',\r\n            data: data.rating['no-rating']\r\n          },\r\n\r\n          {\r\n            name: '一星',\r\n            type: 'bar',\r\n            stack: '星级评价',\r\n            data: data.rating['1']\r\n          },\r\n\r\n          {\r\n            name: '二星',\r\n            type: 'bar',\r\n            stack: '星级评价',\r\n            data: data.rating['2']\r\n          },\r\n\r\n          {\r\n            name: '三星',\r\n            type: 'bar',\r\n            stack: '星级评价',\r\n            data: data.rating['3']\r\n          },\r\n\r\n          {\r\n            name: '四星',\r\n            type: 'bar',\r\n            stack: '星级评价',\r\n            data: data.rating['4']\r\n          },\r\n\r\n          {\r\n            name: '五星',\r\n            type: 'bar',\r\n            stack: '星级评价',\r\n            data: data.rating['5']\r\n          }\r\n        ]\r\n      }\r\n      this.chartData.rating = options\r\n    },\r\n\r\n    /**\r\n     * 设置用户基础信息\r\n     */\r\n    setUser: function () {\r\n      let self = this\r\n      self.$http.jsonp(URL_ROOT + '/user/' + userID).then((response) => {\r\n        if (response.status === 200) {\r\n          let data = response.data\r\n\r\n          if (!data) return false\r\n\r\n          self.user = data\r\n        }\r\n      }, (response) => {\r\n        self.loadFaild()\r\n      })\r\n    },\r\n\r\n    /**\r\n     * 设置用户阅读标签\r\n     * @param  object books 豆瓣获取的图书数据集\r\n     */\r\n    setTagsInfo: function (books) {\r\n      let ret = []\r\n      let self = this\r\n      books.collections.forEach((current) => {\r\n        let bookTags = current.tags\r\n        if (bookTags) {\r\n          bookTags.forEach((tagName) => {\r\n            if (ret.indexOf(tagName) === -1) {\r\n              ret.push(tagName)\r\n            }\r\n          })\r\n        }\r\n      })\r\n      self.tags = ret\r\n    },\r\n\r\n    loadFaild: function () {\r\n      // 隐藏loading块\r\n      this.$refs.spinner.hide()\r\n      this.$router.go('unknown')\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped lang=\"less\">\r\n.content {\r\n  h2{\r\n    margin-bottom: 25px;\r\n  }\r\n\r\n  .read-info {\r\n    margin: 0 5px;\r\n    padding-bottom: 10px;\r\n\r\n    p strong {\r\n      margin: 0 8px;\r\n      font-size: 24px;\r\n      font-weight: normal;\r\n    }\r\n  }\r\n\r\n  .read-tags {\r\n    .no-tag {\r\n      color: #eee;\r\n    }\r\n\r\n    .tag {\r\n      margin: 3px 3px;\r\n    }\r\n  }\r\n\r\n  .tags-title {\r\n    margin-bottom: 20px;\r\n  }\r\n}\r\n</style>\r\n\n\n\n/** WEBPACK FOOTER **\n ** book-stat.vue?f9c75c36\n **/","<template>\r\n  <div class=\"content\">\r\n    <p class=\"title\"><strong>输入你的豆瓣个人主页地址：</strong></p>\r\n    <input type=\"text\" class=\"userurl\" placeholder=\"https://www.douban.com/people/81245114/\" v-model=\"userurl\" debounce=\"500\">\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  data () {\r\n    return {\r\n      userurl: ''\r\n    }\r\n  },\r\n\r\n  ready: function () {\r\n    const personReg = /^https:\\/\\/www.douban.com\\/people\\/\\d+|\\w+\\d+|\\w+\\/$/\r\n    this.$watch('userurl', (userurl) => {\r\n      if (personReg.test(userurl)) { // 匹配豆瓣网址\r\n        let userid = ''\r\n        userurl = userurl.replace(/https:\\/\\/www.douban.com\\/people\\//, '')\r\n        userid = userurl.substr(0, userurl.length - 1)\r\n\r\n        this.$router.go({\r\n          path: 'book',\r\n          query: {\r\n            userid: userid\r\n          }\r\n        })\r\n      }\r\n    })\r\n  }\r\n}\r\n</script>\r\n<style lang=\"less\" scoped>\r\n  .content {\r\n    .title {\r\n      margin-top: 50px;\r\n      text-align: center;\r\n    }\r\n\r\n    .userurl {\r\n      display: block;\r\n      margin: 0 auto 50px;\r\n      width: 80%;\r\n    }\r\n  }\r\n</style>\r\n\n\n\n/** WEBPACK FOOTER **\n ** home.vue?59b58145\n **/","<template>\r\n  <style>\r\n    /* 覆盖父级元素的样式 */\r\n    .container {\r\n      background-color: #000 !important;\r\n    }\r\n    footer * {\r\n      color: #000 !important;\r\n    }\r\n  </style>\r\n  <div class=\"content\">\r\n    <div class=\"face404\">\r\n      <div class=\"eye-socket left\">\r\n          <div class=\"eye\"></div>\r\n      </div>\r\n      <div class=\"eye-socket right\">\r\n          <div class=\"eye\"></div>\r\n      </div>\r\n    </div>\r\n    <div class=\"text404\">\r\n      <p class=\"text\">Oh!</p>\r\n      <p class=\"text\">Someting wrong!</p>\r\n      <a class=\"redirect\" href=\"javascript:void(0)\" @click=\"goBack\">Go Back?</a>\r\n      <a class=\"redirect\" v-link=\"'home'\">or Go Home?</a>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  methods: {\r\n    goBack: function (event) {\r\n      this.$router.go(window.history.back())\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"less\" scoped>\r\n  @keyframes shakeEyes {\r\n    20% {\r\n        transform: scale3d(0.95, 0.95, 0.95);\r\n    }\r\n    50% {\r\n        opacity: .8;\r\n        transform: scale3d(1.05, 1.05, 1.05);\r\n    }\r\n    to {\r\n        opacity: .7;\r\n        transform: scale3d(0.98, 0.98, 0.98);\r\n    }\r\n  }\r\n  @keyframes shakeEyebrow {\r\n    20% {\r\n        top: -18px;\r\n        border-radius: 40%;\r\n    }\r\n    50% {\r\n        top: -25px;\r\n        border-radius: 35%;\r\n    }\r\n    to {\r\n        top: -15px;\r\n        border-radius: 50%;\r\n    }\r\n  }\r\n  @keyframes eyes {\r\n    0%, 30%, 55%, 90%, 100% {\r\n        transform: translate(0, 0)\r\n    }\r\n    10%, 25% {\r\n        transform: translate(0, 20px)\r\n    }\r\n    65% {\r\n        transform: translate(-20px, 0)\r\n    }\r\n    80% {\r\n        transform: translate(20px, 0)\r\n    }\r\n  }\r\n  .face404 {\r\n    box-sizing: content-box;\r\n    width: 200px;\r\n    margin: 20% auto 0;\r\n    text-align: center;\r\n\r\n    .eye-socket {\r\n      display: inline-block;\r\n      position: relative;\r\n      width: 60px;\r\n      height: 80px;\r\n      border-radius: 50%;\r\n      background-color: #fff;\r\n      box-shadow: 0 0 0 #000;\r\n      margin: 10px;\r\n      animation: shakeEyes 1s infinite;\r\n\r\n      &::after {\r\n        content: '';\r\n        position: absolute;\r\n        border-top: 5px solid #fff;\r\n        width: 70px;\r\n        height: 50px;\r\n        left: -5px;\r\n        top: -15px;\r\n        border-radius: 50%;\r\n        animation: shakeEyebrow 1s infinite;\r\n      }\r\n      .eye {\r\n        width: 15px;\r\n        height: 15px;\r\n        border-radius: 50%;\r\n        background-color: #000;\r\n        position: absolute;\r\n        left: 50%;\r\n        margin: -7.5px 0 0 -7.5px;\r\n        top: 50%;\r\n        animation: eyes 4s infinite;\r\n      }\r\n    }\r\n    .left {\r\n      &::after {\r\n        transform: rotate(-16deg);\r\n      }\r\n    }\r\n    .right {\r\n      &::after {\r\n        transform: rotate(16deg);\r\n      }\r\n    }\r\n  }\r\n  .text404 {\r\n    margin: 20px auto 0;\r\n    text-align: center;\r\n\r\n    .text {\r\n      color: #fff;\r\n      font-size: 60px;\r\n      margin: 10px 0;\r\n    }\r\n    .redirect {\r\n      color: #80ffff;\r\n      font-style: 14px;\r\n      text-decoration: none;\r\n    }\r\n  }\r\n</style>\r\n\n\n\n/** WEBPACK FOOTER **\n ** unknown.vue?6132d14a\n **/","module.exports = \" <div class=echarts></div> \";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/vue-html-loader!./~/vue-loader/lib/selector.js?type=template&index=0!./~/vue-echarts/src/components/Echarts.vue\n ** module id = 477\n ** module chunks = 2\n **/","module.exports = \" <div class=container> <router-view></router-view> <app-footer></app-footer> </div> \";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/vue-html-loader!./~/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n ** module id = 478\n ** module chunks = 2\n **/","module.exports = \" <footer> <p class=copyright>Copyright © 2016 <a href=http://zhengbowei.github.io/about title=关于我>Bowei Zheng.</a> Hosted by <a href=https://github.com/zhengbowei/douban_stat target=_blank title=github rel=nofollow>GitHub</a> and powered by <a href=http://vuejs.org.cn/ title=Vue.js官网 rel=nofollow>Vue.js</a>.</p> </footer> \";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/vue-html-loader!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/footer.vue\n ** module id = 479\n ** module chunks = 2\n **/","module.exports = \" <div class=content _v-00f2f2e0=\\\"\\\"> <p class=title _v-00f2f2e0=\\\"\\\"><strong _v-00f2f2e0=\\\"\\\">输入你的豆瓣个人主页地址：</strong></p> <input type=text class=userurl placeholder=https://www.douban.com/people/81245114/ v-model=userurl debounce=500 _v-00f2f2e0=\\\"\\\"> </div> \";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/vue-html-loader!./~/vue-loader/lib/template-rewriter.js?id=_v-00f2f2e0!./~/vue-loader/lib/selector.js?type=template&index=0!./src/view/home.vue\n ** module id = 480\n ** module chunks = 2\n **/","module.exports = \" <style _v-0cc9fb4e=\\\"\\\"> /* 覆盖父级元素的样式 */\\n  .container {\\n    background-color: #000 !important;\\n  }\\n  footer * {\\n    color: #000 !important;\\n  } </style> <div class=content _v-0cc9fb4e=\\\"\\\"> <div class=face404 _v-0cc9fb4e=\\\"\\\"> <div class=\\\"eye-socket left\\\" _v-0cc9fb4e=\\\"\\\"> <div class=eye _v-0cc9fb4e=\\\"\\\"></div> </div> <div class=\\\"eye-socket right\\\" _v-0cc9fb4e=\\\"\\\"> <div class=eye _v-0cc9fb4e=\\\"\\\"></div> </div> </div> <div class=text404 _v-0cc9fb4e=\\\"\\\"> <p class=text _v-0cc9fb4e=\\\"\\\">Oh!</p> <p class=text _v-0cc9fb4e=\\\"\\\">Someting wrong!</p> <a class=redirect href=javascript:void(0) @click=goBack _v-0cc9fb4e=\\\"\\\">Go Back?</a> <a class=redirect v-link=\\\"'home'\\\" _v-0cc9fb4e=\\\"\\\">or Go Home?</a> </div> </div> \";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/vue-html-loader!./~/vue-loader/lib/template-rewriter.js?id=_v-0cc9fb4e!./~/vue-loader/lib/selector.js?type=template&index=0!./src/view/unknown.vue\n ** module id = 481\n ** module chunks = 2\n **/","module.exports = \" <chart :options=chartData _v-169fea5e=\\\"\\\"></chart> \";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/vue-html-loader!./~/vue-loader/lib/template-rewriter.js?id=_v-169fea5e!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/chart.vue\n ** module id = 482\n ** module chunks = 2\n **/","module.exports = \" <header _v-69263686=\\\"\\\"> <a v-link=\\\"'/'\\\" _v-69263686=\\\"\\\">Home</a> <a v-link=\\\"'/book'\\\" _v-69263686=\\\"\\\">book</a> </header> \";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/vue-html-loader!./~/vue-loader/lib/template-rewriter.js?id=_v-69263686!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/header.vue\n ** module id = 483\n ** module chunks = 2\n **/","module.exports = \" <div class=content _v-f6ccf7f2=\\\"\\\"> <spinner id=spinner-box :size=lg text=读取中... v-ref:spinner=\\\"\\\" _v-f6ccf7f2=\\\"\\\"></spinner> <h2 _v-f6ccf7f2=\\\"\\\">{{ user.name }}的{{ readYear }}年豆瓣读书记录</h2> <div class=read-info _v-f6ccf7f2=\\\"\\\"> <p _v-f6ccf7f2=\\\"\\\">总阅读量：<strong _v-f6ccf7f2=\\\"\\\">{{ booksTotal }}</strong>本</p> <p _v-f6ccf7f2=\\\"\\\">总阅读时间：<strong _v-f6ccf7f2=\\\"\\\">{{ readTime.allReadDay }}</strong>天</p> <p v-show=readTime.firstReadDay _v-f6ccf7f2=\\\"\\\">第一本书：于<strong _v-f6ccf7f2=\\\"\\\">{{ readTime.firstReadDay }}</strong>读完《{{ firstRead.book &amp;&amp; firstRead.book.title }}》</p> <p v-show=readTime.lastReadDay _v-f6ccf7f2=\\\"\\\">最近阅读：于<strong _v-f6ccf7f2=\\\"\\\">{{ readTime.lastReadDay }}</strong>读完《{{ lastRead.book &amp;&amp; lastRead.book.title }}》</p> <p v-show=readTime.averageDay _v-f6ccf7f2=\\\"\\\">平均阅读时间：<strong _v-f6ccf7f2=\\\"\\\">{{ readTime.averageDay }}</strong>天/本</p> </div> <h3 _v-f6ccf7f2=\\\"\\\"># 图表统计</h3>  <chart :chart-data=chartData.statu _v-f6ccf7f2=\\\"\\\"></chart> <chart :chart-data=chartData.rating _v-f6ccf7f2=\\\"\\\"></chart> <h3 class=tags-title _v-f6ccf7f2=\\\"\\\"># 读书标签</h3> <div class=read-tags _v-f6ccf7f2=\\\"\\\"> <span class=\\\"tag label label-info\\\" v-for=\\\"tag in tags\\\" style=\\\"display: inline-block\\\" _v-f6ccf7f2=\\\"\\\">{{ tag }}</span> <p class=no-tag v-if=!tags.length _v-f6ccf7f2=\\\"\\\">Ta今年还没有打任何标签</p> </div> </div> \";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/vue-html-loader!./~/vue-loader/lib/template-rewriter.js?id=_v-f6ccf7f2!./~/vue-loader/lib/selector.js?type=template&index=0!./src/view/book-stat.vue\n ** module id = 484\n ** module chunks = 2\n **/","var __vue_script__, __vue_template__\nrequire(\"!!./../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!./../node_modules/vue-loader/lib/style-rewriter.js!less-loader?sourceMap!./../node_modules/vue-loader/lib/selector.js?type=style&index=0!./App.vue\")\n__vue_script__ = require(\"!!babel-loader?presets[]=es2015&plugins[]=transform-runtime&comments=false!./../node_modules/vue-loader/lib/selector.js?type=script&index=0!./App.vue\")\n__vue_template__ = require(\"!!vue-html-loader!./../node_modules/vue-loader/lib/selector.js?type=template&index=0!./App.vue\")\nmodule.exports = __vue_script__ || {}\nif (module.exports.__esModule) module.exports = module.exports.default\nif (__vue_template__) {\n(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/App.vue\n ** module id = 485\n ** module chunks = 2\n **/","var __vue_script__, __vue_template__\nrequire(\"!!./../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!./../../node_modules/vue-loader/lib/style-rewriter.js?id=_v-169fea5e&scoped=true!./../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./chart.vue\")\n__vue_script__ = require(\"!!babel-loader?presets[]=es2015&plugins[]=transform-runtime&comments=false!./../../node_modules/vue-loader/lib/selector.js?type=script&index=0!./chart.vue\")\n__vue_template__ = require(\"!!vue-html-loader!./../../node_modules/vue-loader/lib/template-rewriter.js?id=_v-169fea5e!./../../node_modules/vue-loader/lib/selector.js?type=template&index=0!./chart.vue\")\nmodule.exports = __vue_script__ || {}\nif (module.exports.__esModule) module.exports = module.exports.default\nif (__vue_template__) {\n(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/components/chart.vue\n ** module id = 486\n ** module chunks = 2\n **/","var __vue_script__, __vue_template__\nrequire(\"!!./../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!./../../node_modules/vue-loader/lib/style-rewriter.js!less-loader?sourceMap!./../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./footer.vue\")\n__vue_template__ = require(\"!!vue-html-loader!./../../node_modules/vue-loader/lib/selector.js?type=template&index=0!./footer.vue\")\nmodule.exports = __vue_script__ || {}\nif (module.exports.__esModule) module.exports = module.exports.default\nif (__vue_template__) {\n(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/components/footer.vue\n ** module id = 487\n ** module chunks = 2\n **/","var __vue_script__, __vue_template__\nrequire(\"!!./../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!./../../node_modules/vue-loader/lib/style-rewriter.js?id=_v-69263686&scoped=true!less-loader?sourceMap!./../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./header.vue\")\n__vue_script__ = require(\"!!babel-loader?presets[]=es2015&plugins[]=transform-runtime&comments=false!./../../node_modules/vue-loader/lib/selector.js?type=script&index=0!./header.vue\")\n__vue_template__ = require(\"!!vue-html-loader!./../../node_modules/vue-loader/lib/template-rewriter.js?id=_v-69263686!./../../node_modules/vue-loader/lib/selector.js?type=template&index=0!./header.vue\")\nmodule.exports = __vue_script__ || {}\nif (module.exports.__esModule) module.exports = module.exports.default\nif (__vue_template__) {\n(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/components/header.vue\n ** module id = 488\n ** module chunks = 2\n **/","var __vue_script__, __vue_template__\nrequire(\"!!./../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!./../../node_modules/vue-loader/lib/style-rewriter.js?id=_v-f6ccf7f2&scoped=true!less-loader?sourceMap!./../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./book-stat.vue\")\n__vue_script__ = require(\"!!babel-loader?presets[]=es2015&plugins[]=transform-runtime&comments=false!./../../node_modules/vue-loader/lib/selector.js?type=script&index=0!./book-stat.vue\")\n__vue_template__ = require(\"!!vue-html-loader!./../../node_modules/vue-loader/lib/template-rewriter.js?id=_v-f6ccf7f2!./../../node_modules/vue-loader/lib/selector.js?type=template&index=0!./book-stat.vue\")\nmodule.exports = __vue_script__ || {}\nif (module.exports.__esModule) module.exports = module.exports.default\nif (__vue_template__) {\n(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/view/book-stat.vue\n ** module id = 489\n ** module chunks = 2\n **/","var __vue_script__, __vue_template__\nrequire(\"!!./../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!./../../node_modules/vue-loader/lib/style-rewriter.js?id=_v-00f2f2e0&scoped=true!less-loader?sourceMap!./../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./home.vue\")\n__vue_script__ = require(\"!!babel-loader?presets[]=es2015&plugins[]=transform-runtime&comments=false!./../../node_modules/vue-loader/lib/selector.js?type=script&index=0!./home.vue\")\n__vue_template__ = require(\"!!vue-html-loader!./../../node_modules/vue-loader/lib/template-rewriter.js?id=_v-00f2f2e0!./../../node_modules/vue-loader/lib/selector.js?type=template&index=0!./home.vue\")\nmodule.exports = __vue_script__ || {}\nif (module.exports.__esModule) module.exports = module.exports.default\nif (__vue_template__) {\n(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/view/home.vue\n ** module id = 490\n ** module chunks = 2\n **/","var __vue_script__, __vue_template__\nrequire(\"!!./../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!./../../node_modules/vue-loader/lib/style-rewriter.js?id=_v-0cc9fb4e&scoped=true!less-loader?sourceMap!./../../node_modules/vue-loader/lib/selector.js?type=style&index=0!./unknown.vue\")\n__vue_script__ = require(\"!!babel-loader?presets[]=es2015&plugins[]=transform-runtime&comments=false!./../../node_modules/vue-loader/lib/selector.js?type=script&index=0!./unknown.vue\")\n__vue_template__ = require(\"!!vue-html-loader!./../../node_modules/vue-loader/lib/template-rewriter.js?id=_v-0cc9fb4e!./../../node_modules/vue-loader/lib/selector.js?type=template&index=0!./unknown.vue\")\nmodule.exports = __vue_script__ || {}\nif (module.exports.__esModule) module.exports = module.exports.default\nif (__vue_template__) {\n(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./src/view/unknown.vue\n ** module id = 491\n ** module chunks = 2\n **/","var __vue_script__, __vue_template__\nrequire(\"!!./../../../extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"extract\\\":true,\\\"remove\\\":true}!vue-style-loader!css-loader?sourceMap!./../../../vue-loader/lib/style-rewriter.js!./../../../vue-loader/lib/selector.js?type=style&index=0!./Echarts.vue\")\n__vue_script__ = require(\"!!babel-loader?presets[]=es2015&plugins[]=transform-runtime&comments=false!./../../../vue-loader/lib/selector.js?type=script&index=0!./Echarts.vue\")\n__vue_template__ = require(\"!!vue-html-loader!./../../../vue-loader/lib/selector.js?type=template&index=0!./Echarts.vue\")\nmodule.exports = __vue_script__ || {}\nif (module.exports.__esModule) module.exports = module.exports.default\nif (__vue_template__) {\n(typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports).template = __vue_template__\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/vue-echarts/src/components/Echarts.vue\n ** module id = 492\n ** module chunks = 2\n **/"],"sourceRoot":""}