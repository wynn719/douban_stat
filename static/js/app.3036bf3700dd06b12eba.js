webpackJsonp([2,0],{0:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var o=n(163),a=r(o),i=n(485),s=r(i),c=n(493),u=r(c),h=n(496),l=r(h),p=n(167),d=r(p);a["default"].use(u["default"]),a["default"].http.options.root="https://api.douban.com",a["default"].use(l["default"]);var f=new l["default"]({history:!1,saveScrollPosition:!0,transitionOnLoad:!0});f.map(d["default"]),f.beforeEach(function(t){var e=t.to,n=t.next;"/book"===e.path&&e.query?f.go("/"):n()}),f.redirect({"*":"/"}),f.start(s["default"],"#app")},164:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(175),a=r(o),i=n(177),s=r(i),c=n(176),u=r(c),h=n(163),l=r(h),p=n(166),d=r(p),f="https://api.douban.com/v2",v=2592e5,g={count:100};e["default"]={getBooks:function(t){t=(0,u["default"])({},g,t);var e=new s["default"](function(e,n){l["default"].http.jsonp(f+"/book/user/"+t.userID+"/collections",t).then(function(t){200===t.status&&e(t.data)})["catch"](function(t){n(t)})});return e},fetchBooks:function(t,e,n){var r=(new Date).getTime(),o={},a={},i={},c=this;return o=d["default"].get(t.userID),!o&&(o=JSON.parse(o),o.timeStamp+v>r)?void e(o):(i=(0,u["default"])({},g,t),a=(0,u["default"])({},i,{count:1}),void c.getBooks(a).then(function(r){for(var o=[],a=0,h=r.total;a<h;a+=i.count)o.push(a);var p=o.map(function(t){var e=(0,u["default"])({},i,{start:t});return l["default"].http.jsonp(f+"/book/user/"+e.userID+"/collections",e).then(function(t){if(200===t.status)return t.data})});s["default"].all(p).then(function(n){for(var o={collections:[],total:r.total},a=0,i=n.length;a<i;a++)for(var s=n[a].collections,u=0,h=s.length;u<h;u++)o.collections.push(s[u]);o=c.formatDataForChart(o,t.userID),e(o)})["catch"](function(t){n(t)})}))},formatDataForChart:function(t,e){var n=(new Date).getTime(),r=t.collections,o={};return r.forEach(function(t){var e=t.updated.substring(0,7).split("-"),n=Number(e[1]);o.collections=o.collections||[],o.collections.push(t),o.books=o.books||{},o.books[t.status]=o.books[t.status]||[],o.books[t.status].push(t),o.status=o.status||{},o.status[t.status]=o.status[t.status]||[];for(var r=0;r<12;r++)o.status[t.status][r]=o.status[t.status][r]||null;if(o.status[t.status][n-1]++,"read"===t.status){o.rating=o.rating||{},void 0===t.rating&&(t.rating={},t.rating.value="no-rating"),o.rating[t.rating.value]=o.rating[t.rating.value]||[];for(var a=0;a<12;a++)o.rating[t.rating.value][a]=o.rating[t.rating.value][a]||null;o.rating[t.rating.value][n-1]++}}),o?(o.timeStamp=n,d["default"].add(e,(0,a["default"])(o)),o):null}}},165:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={toRfc3339:function(t){return t.replace(" ","T")+"Z"},now:function n(t){var e=new Date,r=function(t){return(t<10?"0":"")+t},n={year:r(e.getFullYear()),mouth:r(e.getMonth()+1),day:r(e.getDate()),hour:r(e.getHours()),minute:r(e.getMinutes()),second:r(e.getSeconds())},o=n.year+"-"+n.mouth+"-"+n.day+" "+n.hour+":"+n.minute+":"+n.second;return t?n.arg:o},getDateTimeByYear:function(t){return t+"-01-01 00:00:00"}}},166:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=window.localStorage;e["default"]={get:function(t){var e=n.getItem(t);return e||null},add:function(t,e){var r=this;try{n.setItem(t,e)}catch(o){if(r._isQuotaExceeded(o))return r.clear(),r.setItem(t,e),this}return this},destory:function(t){return n.removeItem(t),this},clear:function(){return n.clear(),this},_isQuotaExceeded:function(t){var e=!1;if(t){if(t.code)switch(t.code){case 22:e=!0;break;case 1014:"NS_ERROR_DOM_QUOTA_REACHED"===t.name&&(e=!0)}t.number===-2147024882&&(e=!0)}return e}}},167:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(490),a=r(o),i=n(489),s=r(i),c=n(491),u=r(c);e["default"]={"":{component:a["default"]},home:{component:a["default"]},"/book":{component:s["default"]},"/unknown":{component:u["default"]}}},168:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(213),a=r(o),i=["legendselectchanged","legendselected","legendunselected","datazoom","datarangeselected","timelinechanged","timelineplaychanged","restore","dataviewchanged","magictypechanged","pieselectchanged","pieselected","pieunselected","mapselectchanged","mapselected","mapunselected"],s=["click","dblclick","mouseover","mouseout","mousedown","mouseup","globalout"];e["default"]={props:["options","theme","initOptions","group"],data:function(){return{chart:null}},computed:{width:{cache:!1,getter:function(){return this.chart.getWidth()}},height:{cache:!1,getter:function(){return this.chart.getHeight()}},isDisposed:{cache:!1,getter:function(){return this.chart.isDisposed()}}},methods:{mergeOptions:function(t){this.chart.setOption(t)},resize:function(){this.chart.resize()},dispatchAction:function(t){this.chart.dispatchAction(t)},showLoading:function(){this.chart.showLoading()},hideLoading:function(){this.chart.hideLoading()},getDataURL:function(){return this.chart.getDataURL()},clear:function(){this.chart.clear()},dispose:function(){this.chart.dispose()}},ready:function(){var t=this,e=a["default"].init(this.$el,this.theme,this.initOptions);e.setOption(this.options),this.$watch("options",function(t){e.setOption(t,!0)},{deep:!0}),e.group=this.group,this.$watch("group",function(t){e.group=t}),i.forEach(function(n){e.on(n,function(e){t.$dispatch(n,e)})}),s.forEach(function(n){e.on(n,function(e){t.$dispatch("chart"+n,e)})}),this.chart=e},connect:function(t){"string"!=typeof t&&(t=t.map(function(t){return t.chart})),a["default"].connect(t)},disconnect:function(t){a["default"].connect(t)},registerMap:function(t,e,n){a["default"].registerMap(t,e,n)},registerTheme:function(t,e){a["default"].registerTheme(t,e)}}},169:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),n(468);var o=n(488),a=r(o),i=n(487),s=r(i);e["default"]={components:{"app-header":a["default"],"app-footer":s["default"]}}},170:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(492),a=r(o);e["default"]={components:{chart:a["default"]},props:{chartData:{type:Object,required:!0,"default":{}}}}},171:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={}},172:function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(494),a=n(486),i=r(a),s=n(164),c=r(s),u=n(165),h=r(u),l="",p="https://api.douban.com/v2",d="2016";e["default"]={components:{spinner:o.spinner,chart:i["default"]},created:function(){},ready:function(){var t=this,e=this;this.$refs.spinner.show(),l=this.$route.query.userid,e.setUser(),c["default"].fetchBooks({userID:l,from:h["default"].toRfc3339("2016-01-01 00:00:00"),to:h["default"].toRfc3339(h["default"].now())},function(n){return n?(e.setStatistics(n),e.setTagsInfo(n),e.setBooksChart(n),e.setBooksRatingsChart(n),void t.$refs.spinner.hide()):void t.$refs.spinner.hide()},function(t){console.log(t)})},data:function(){return{booksTotal:0,user:{},firstRead:{},lastRead:{},readTime:{allReadDay:0},years:[],tags:[],chartData:{statu:{},rating:{}},readYear:""}},methods:{setStatistics:function(t){var e=t.books.read,n=this,r={},o=0,a=e.length,i=e[a-1],s=e[0];r.firstReadDay=i.updated.substring(0,10),r.lastReadDay=s.updated.substring(0,10),o=new Date(r.lastReadDay).getTime()-new Date(r.firstReadDay).getTime(),r.allReadDay=o/864e5,r.averageDay=(r.allReadDay/a).toFixed(2),n.booksTotal=a,n.firstRead=i,n.lastRead=s,n.readTime=r,n.readYear=d},setBooksChart:function(t){var e={title:{text:d+"年度图书阅读统计",left:"center",bottom:25},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{data:["在读","想读","已读"]},grid:{left:"0",width:"100%",containLabel:!0},xAxis:[{type:"category",data:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"]}],yAxis:[{type:"value"}],series:[{name:"在读",type:"bar",stack:"读书状态",data:t.status.reading},{name:"想读",type:"bar",stack:"读书状态",data:t.status.wish},{name:"已读",type:"bar",stack:"读书状态",data:t.status.read}]};this.chartData.statu=e},setBooksRatingsChart:function(t){var e={title:{text:d+"年度图书评价统计",left:"center",bottom:25},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{data:["未评","一星","二星","三星","四星","五星"]},grid:{left:"0",width:"100%",containLabel:!0},xAxis:[{type:"category",data:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"]}],yAxis:[{type:"value"}],series:[{name:"未评",type:"bar",stack:"星级评价",data:t.rating["no-rating"]},{name:"一星",type:"bar",stack:"星级评价",data:t.rating[1]},{name:"二星",type:"bar",stack:"星级评价",data:t.rating[2]},{name:"三星",type:"bar",stack:"星级评价",data:t.rating[3]},{name:"四星",type:"bar",stack:"星级评价",data:t.rating[4]},{name:"五星",type:"bar",stack:"星级评价",data:t.rating[5]}]};this.chartData.rating=e},setUser:function(){var t=this;t.$http.jsonp(p+"/user/"+l).then(function(e){if(200===e.status){var n=e.data;if(!n)return!1;t.user=n}},function(e){t.loadFaild()})},setTagsInfo:function(t){var e=[],n=this;t.collections.forEach(function(t){var n=t.tags;n&&n.forEach(function(t){e.indexOf(t)===-1&&e.push(t)})}),n.tags=e},loadFaild:function(){this.$refs.spinner.hide(),this.$router.go("unknown")}}}},173:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={data:function(){return{userurl:""}},ready:function(){var t=this,e=/^https:\/\/www.douban.com\/people\/\d+|\w+\d+|\w+\/$/;this.$watch("userurl",function(n){if(e.test(n)){var r="";n=n.replace(/https:\/\/www.douban.com\/people\//,""),r=n.substr(0,n.length-1),t.$router.go({path:"book",query:{userid:r}})}})}}},174:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={methods:{goBack:function(t){this.$router.go(window.history.back())}}}},468:function(t,e){},469:function(t,e){},470:function(t,e){},471:function(t,e){},472:function(t,e){},473:function(t,e){},474:function(t,e){},475:function(t,e){},476:function(t,e){},477:function(t,e){t.exports=" <div class=echarts></div> "},478:function(t,e){t.exports=" <div class=container> <router-view></router-view> <app-footer></app-footer> </div> "},479:function(t,e){t.exports=" <footer> <p class=copyright>Copyright © 2016 <a href=http://zhengbowei.github.io/about title=关于我>Bowei Zheng.</a> Hosted by <a href=https://github.com/zhengbowei/douban_stat target=_blank title=github rel=nofollow>GitHub</a> and powered by <a href=http://vuejs.org.cn/ title=Vue.js官网 rel=nofollow>Vue.js</a>.</p> </footer> "},480:function(t,e){t.exports=' <style _v-0cf45e79=""> /* 覆盖父级元素的样式 */\n  .container {\n    background-color: #000 !important;\n  }\n  footer * {\n    color: #000 !important;\n  } </style> <div class=content _v-0cf45e79=""> <div class=face404 _v-0cf45e79=""> <div class="eye-socket left" _v-0cf45e79=""> <div class=eye _v-0cf45e79=""></div> </div> <div class="eye-socket right" _v-0cf45e79=""> <div class=eye _v-0cf45e79=""></div> </div> </div> <div class=text404 _v-0cf45e79=""> <p class=text _v-0cf45e79="">Oh!</p> <p class=text _v-0cf45e79="">Something wrong!</p> <a class=redirect href=javascript:void(0) @click=goBack _v-0cf45e79="">Go Back?</a> <a class=redirect v-link="\'home\'" _v-0cf45e79="">or Go Home?</a> </div> </div> '},481:function(t,e){t.exports=' <header _v-1c281c9d=""> <a v-link="\'/\'" _v-1c281c9d="">Home</a> <a v-link="\'/book\'" _v-1c281c9d="">book</a> </header> '},482:function(t,e){t.exports=' <div class=content _v-270c5827=""> <spinner id=spinner-box :size=lg text=读取中... v-ref:spinner="" _v-270c5827=""></spinner> <h2 _v-270c5827="">{{ user.name }}的{{ readYear }}年豆瓣读书记录</h2> <div class=read-info _v-270c5827=""> <p _v-270c5827="">总阅读量：<strong _v-270c5827="">{{ booksTotal }}</strong>本</p> <p _v-270c5827="">总阅读时间：<strong _v-270c5827="">{{ readTime.allReadDay }}</strong>天</p> <p v-show=readTime.firstReadDay _v-270c5827="">第一本书：于<strong _v-270c5827="">{{ readTime.firstReadDay }}</strong>读完《{{ firstRead.book &amp;&amp; firstRead.book.title }}》</p> <p v-show=readTime.lastReadDay _v-270c5827="">最近阅读：于<strong _v-270c5827="">{{ readTime.lastReadDay }}</strong>读完《{{ lastRead.book &amp;&amp; lastRead.book.title }}》</p> <p v-show=readTime.averageDay _v-270c5827="">平均阅读时间：<strong _v-270c5827="">{{ readTime.averageDay }}</strong>天/本</p> </div> <h3 _v-270c5827=""># 图表统计</h3> <chart :chart-data=chartData.statu _v-270c5827=""></chart> <chart :chart-data=chartData.rating _v-270c5827=""></chart> <h3 class=tags-title _v-270c5827=""># 读书标签</h3> <div class=read-tags _v-270c5827=""> <span class="tag label label-info" v-for="tag in tags" style="display: inline-block" _v-270c5827="">{{ tag }}</span> <p class=no-tag v-if=!tags.length _v-270c5827="">Ta今年还没有打任何标签</p> </div> </div> '},483:function(t,e){t.exports=' <chart :options=chartData _v-30a39304=""></chart> '},484:function(t,e){t.exports=' <div class=content _v-3e57ea80=""> <p class=title _v-3e57ea80=""><strong _v-3e57ea80="">输入你的豆瓣个人主页地址：</strong></p> <input type=text class=userurl placeholder=https://www.douban.com/people/81245114/ v-model=userurl debounce=500 value="" _v-3e57ea80=""> </div> '},485:function(t,e,n){var r,o;n(469),r=n(169),o=n(478),t.exports=r||{},t.exports.__esModule&&(t.exports=t.exports["default"]),o&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=o)},486:function(t,e,n){var r,o;n(475),r=n(170),o=n(483),t.exports=r||{},t.exports.__esModule&&(t.exports=t.exports["default"]),o&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=o)},487:function(t,e,n){var r,o;n(470),o=n(479),t.exports=r||{},t.exports.__esModule&&(t.exports=t.exports["default"]),o&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=o)},488:function(t,e,n){var r,o;n(473),r=n(171),o=n(481),t.exports=r||{},t.exports.__esModule&&(t.exports=t.exports["default"]),o&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=o)},489:function(t,e,n){var r,o;n(474),r=n(172),o=n(482),t.exports=r||{},t.exports.__esModule&&(t.exports=t.exports["default"]),o&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=o)},490:function(t,e,n){var r,o;n(476),r=n(173),o=n(484),t.exports=r||{},t.exports.__esModule&&(t.exports=t.exports["default"]),o&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=o)},491:function(t,e,n){var r,o;n(472),r=n(174),o=n(480),t.exports=r||{},t.exports.__esModule&&(t.exports=t.exports["default"]),o&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=o)},492:function(t,e,n){var r,o;n(471),r=n(168),o=n(477),t.exports=r||{},t.exports.__esModule&&(t.exports=t.exports["default"]),o&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=o)},496:function(t,e,n){/*!
	 * vue-router v0.7.13
	 * (c) 2016 Evan You
	 * Released under the MIT License.
	 */
!function(e,n){t.exports=n()}(this,function(){"use strict";function t(t,e,n){this.path=t,this.matcher=e,this.delegate=n}function e(t){this.routes={},this.children={},this.target=t}function n(e,r,o){return function(a,i){var s=e+a;return i?void i(n(s,r,o)):new t(e+a,r,o)}}function r(t,e,n){for(var r=0,o=0,a=t.length;o<a;o++)r+=t[o].path.length;e=e.substr(r);var i={path:e,handler:n};t.push(i)}function o(t,e,n,a){var i=e.routes;for(var s in i)if(i.hasOwnProperty(s)){var c=t.slice();r(c,s,i[s]),e.children[s]?o(c,e.children[s],n,a):n.call(a,c)}}function a(t,r){var a=new e;t(n("",a,this.delegate)),o([],a,function(t){r?r(this,t):this.add(t)},this)}function i(t){Q||"undefined"==typeof console||console.error("[vue-router] "+t)}function s(t,e){try{return e?decodeURIComponent(t):decodeURI(t)}catch(n){i("malformed URI"+(e?" component: ":": ")+t)}}function c(t){return"[object Array]"===Object.prototype.toString.call(t)}function u(t){this.string=t}function h(t){this.name=t}function l(t){this.name=t}function p(){}function d(t,e,n){"/"===t.charAt(0)&&(t=t.substr(1));var r=t.split("/"),o=[];n.val="";for(var a=0,i=r.length;a<i;a++){var s,c=r[a];(s=c.match(/^:([^\/]+)$/))?(o.push(new h(s[1])),e.push(s[1]),n.val+="3"):(s=c.match(/^\*([^\/]+)$/))?(o.push(new l(s[1])),n.val+="2",e.push(s[1])):""===c?(o.push(new p),n.val+="1"):(o.push(new u(c)),n.val+="4")}return n.val=+n.val,o}function f(t){this.charSpec=t,this.nextStates=[]}function v(t){return t.sort(function(t,e){return e.specificity.val-t.specificity.val})}function g(t,e){for(var n=[],r=0,o=t.length;r<o;r++){var a=t[r];n=n.concat(a.match(e))}return n}function m(t){this.queryParams=t||{}}function y(t,e,n){for(var r=t.handlers,o=t.regex,a=e.match(o),i=1,s=new m(n),c=0,u=r.length;c<u;c++){for(var h=r[c],l=h.names,p={},d=0,f=l.length;d<f;d++)p[l[d]]=a[i++];s.push({handler:h.handler,params:p,isDynamic:!!l.length})}return s}function _(t,e){return e.eachChar(function(e){t=t.put(e)}),t}function b(t){return t=t.replace(/\+/gm,"%20"),s(t,!0)}function w(t){"undefined"!=typeof console&&console.error("[vue-router] "+t)}function x(t,e,n){var r=t.match(/(\?.*)$/);if(r&&(r=r[1],t=t.slice(0,-r.length)),"?"===e.charAt(0))return t+e;var o=t.split("/");n&&o[o.length-1]||o.pop();for(var a=e.replace(/^\//,"").split("/"),i=0;i<a.length;i++){var s=a[i];"."!==s&&(".."===s?o.pop():o.push(s))}return""!==o[0]&&o.unshift(""),o.join("/")}function k(t){return t&&"function"==typeof t.then}function R(t,e){var n=t&&(t.$options||t.options);return n&&n.route&&n.route[e]}function C(t,e){K?K.$options.components._=t.component:K={resolve:J.Vue.prototype._resolveComponent,$options:{components:{_:t.component}}},K.resolve("_",function(n){t.component=n,e(n)})}function $(t,e,n){return void 0===e&&(e={}),t=t.replace(/:([^\/]+)/g,function(n,r){var o=e[r];return o||w('param "'+r+'" not found when generating path for "'+t+'" with params '+JSON.stringify(e)),o||""}),n&&(t+=Y(n)),t}function A(t,e,n){var r=t.childVM;if(!r||!e)return!1;if(t.Component!==e.component)return!1;var o=R(r,"canReuse");return"boolean"==typeof o?o:!o||o.call(r,{to:n.to,from:n.from})}function D(t,e,n){var r=t.childVM,o=R(r,"canDeactivate");o?e.callHook(o,r,n,{expectBoolean:!0}):n()}function E(t,e,n){C(t,function(t){if(!e.aborted){var r=R(t,"canActivate");r?e.callHook(r,null,n,{expectBoolean:!0}):n()}})}function O(t,e,n){var r=t.childVM,o=R(r,"deactivate");o?e.callHooks(o,r,n):n()}function T(t,e,n,r,o){var a=e.activateQueue[n];if(!a)return S(t),t._bound&&t.setComponent(null),void(r&&r());var i=t.Component=a.component,s=R(i,"activate"),c=R(i,"data"),u=R(i,"waitForData");t.depth=n,t.activated=!1;var h=void 0,l=!(!c||u);if(o=o&&t.childVM&&t.childVM.constructor===i)h=t.childVM,h.$loadingRouteData=l;else if(S(t),t.unbuild(!0),h=t.build({_meta:{$loadingRouteData:l},created:function(){this._routerView=t}}),t.keepAlive){h.$loadingRouteData=l;var p=h._keepAliveRouterView;p&&(t.childView=p,h._keepAliveRouterView=null)}var d=function(){h.$destroy()},f=function(){if(o)return void(r&&r());var n=e.router;n._rendered||n._transitionOnLoad?t.transition(h):(t.setCurrent?t.setCurrent(h):t.childVM=h,h.$before(t.anchor,null,!1)),r&&r()},v=function(){t.childView&&T(t.childView,e,n+1,null,o||t.keepAlive),f()},g=function(){t.activated=!0,c&&u?P(h,e,c,v,d):(c&&P(h,e,c),v())};s?e.callHooks(s,h,g,{cleanup:d,postActivate:!0}):g()}function M(t,e){var n=t.childVM,r=R(n,"data");r&&P(n,e,r)}function P(t,e,n,r,o){t.$loadingRouteData=!0,e.callHooks(n,t,function(){t.$loadingRouteData=!1,t.$emit("route-data-loaded",t),r&&r()},{cleanup:o,postActivate:!0,processData:function(e){var n=[];if(V(e)&&Object.keys(e).forEach(function(r){var o=e[r];k(o)?n.push(o.then(function(e){t.$set(r,e)})):t.$set(r,o)}),n.length)return n[0].constructor.all(n)}})}function S(t){t.keepAlive&&t.childVM&&t.childView&&(t.childVM._keepAliveRouterView=t.childView),t.childView=null}function V(t){return"[object Object]"===Object.prototype.toString.call(t)}function j(t){return"[object Object]"===Object.prototype.toString.call(t)}function H(t){return t?Array.prototype.slice.call(t):[]}function I(t){var e=t.util,n=e.extend,r=e.isArray,o=e.defineReactive,a=t.prototype._init;t.prototype._init=function(t){t=t||{};var e=t._parent||t.parent||this,n=e.$router,r=e.$route;n&&(this.$router=n,n._children.push(this),this._defineMeta?this._defineMeta("$route",r):o(this,"$route",r)),a.call(this,t)};var i=t.prototype._destroy;t.prototype._destroy=function(){!this._isBeingDestroyed&&this.$router&&this.$router._children.$remove(this),i.apply(this,arguments)};var s=t.config.optionMergeStrategies,c=/^(data|activate|deactivate)$/;s&&(s.route=function(t,e){if(!e)return t;if(!t)return e;var o={};n(o,t);for(var a in e){var i=o[a],s=e[a];i&&c.test(a)?o[a]=(r(i)?i:[i]).concat(s):o[a]=s}return o})}function z(t){var e=t.util,n=t.directive("_component")||t.internalDirectives.component,r=e.extend({},n);e.extend(r,{_isRouterView:!0,bind:function(){var t=this.vm.$route;if(!t)return void w("<router-view> can only be used inside a router-enabled app.");this._isDynamicLiteral=!0,n.bind.call(this);for(var e=void 0,r=this.vm;r;){if(r._routerView){e=r._routerView;break}r=r.$parent}if(e)this.parentView=e,e.childView=this;else{var o=t.router;o._rootView=this}var a=t.router._currentTransition;if(!e&&a.done||e&&e.activated){var i=e?e.depth+1:0;T(this,a,i)}},unbind:function(){this.parentView&&(this.parentView.childView=null),n.unbind.call(this)}}),t.elementDirective("router-view",r)}function B(t){function e(t){return t.protocol===location.protocol&&t.hostname===location.hostname&&t.port===location.port}function n(t,e,n){if(e=e.trim(),e.indexOf(" ")===-1)return void n(t,e);for(var r=e.split(/\s+/),o=0,a=r.length;o<a;o++)n(t,r[o])}var r=t.util,o=r.bind,a=r.isObject,i=r.addClass,s=r.removeClass,c=t.directive("on").priority,u="__vue-router-link-update__",h=0;t.directive("link-active",{priority:9999,bind:function(){for(var t=this,e=String(h++),n=this.el.querySelectorAll("[v-link]"),r=0,o=n.length;r<o;r++){var a=n[r],i=a.getAttribute(u),s=i?i+","+e:e;a.setAttribute(u,s)}this.vm.$on(u,this.cb=function(n,r){n.activeIds.indexOf(e)>-1&&n.updateClasses(r,t.el)})},unbind:function(){this.vm.$off(u,this.cb)}}),t.directive("link",{priority:c-2,bind:function(){var t=this.vm;if(!t.$route)return void w("v-link can only be used inside a router-enabled app.");this.router=t.$route.router,this.unwatch=t.$watch("$route",o(this.onRouteUpdate,this));var e=this.el.getAttribute(u);e&&(this.el.removeAttribute(u),this.activeIds=e.split(",")),"A"===this.el.tagName&&"_blank"===this.el.getAttribute("target")||(this.handler=o(this.onClick,this),this.el.addEventListener("click",this.handler))},update:function(t){this.target=t,a(t)&&(this.append=t.append,this.exact=t.exact,this.prevActiveClass=this.activeClass,this.activeClass=t.activeClass),this.onRouteUpdate(this.vm.$route)},onClick:function(t){if(!(t.metaKey||t.ctrlKey||t.shiftKey||t.defaultPrevented||0!==t.button)){var n=this.target;if(n)t.preventDefault(),this.router.go(n);else{for(var r=t.target;"A"!==r.tagName&&r!==this.el;)r=r.parentNode;if("A"===r.tagName&&e(r)){t.preventDefault();var o=r.pathname;this.router.history.root&&(o=o.replace(this.router.history.rootRE,"")),this.router.go({path:o,replace:n&&n.replace,append:n&&n.append})}}}},onRouteUpdate:function(t){var e=this.router.stringifyPath(this.target);this.path!==e&&(this.path=e,this.updateActiveMatch(),this.updateHref()),this.activeIds?this.vm.$emit(u,this,t.path):this.updateClasses(t.path,this.el)},updateActiveMatch:function(){this.activeRE=this.path&&!this.exact?new RegExp("^"+this.path.replace(/\/$/,"").replace(it,"").replace(at,"\\$&")+"(\\/|$)"):null},updateHref:function(){if("A"===this.el.tagName){var t=this.path,e=this.router,n="/"===t.charAt(0),r=t&&("hash"===e.mode||n)?e.history.formatPath(t,this.append):t;r?this.el.href=r:this.el.removeAttribute("href")}},updateClasses:function(t,e){var r=this.activeClass||this.router._linkActiveClass;this.prevActiveClass&&this.prevActiveClass!==r&&n(e,this.prevActiveClass,s);var o=this.path.replace(it,"");t=t.replace(it,""),this.exact?o===t||"/"!==o.charAt(o.length-1)&&o===t.replace(ot,"")?n(e,r,i):n(e,r,s):this.activeRE&&this.activeRE.test(t)?n(e,r,i):n(e,r,s)},unbind:function(){this.el.removeEventListener("click",this.handler),this.unwatch&&this.unwatch()}})}function q(t,e){var n=e.component;ct.util.isPlainObject(n)&&(n=e.component=ct.extend(n)),"function"!=typeof n&&(e.component=null,w('invalid component for route "'+t+'".'))}var F={};F.classCallCheck=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},t.prototype={to:function(t,e){var n=this.delegate;if(n&&n.willAddRoute&&(t=n.willAddRoute(this.matcher.target,t)),this.matcher.add(this.path,t),e){if(0===e.length)throw new Error("You must have an argument in the function passed to `to`");this.matcher.addChild(this.path,t,e,this.delegate)}return this}},e.prototype={add:function(t,e){this.routes[t]=e},addChild:function(t,r,o,a){var i=new e(r);this.children[t]=i;var s=n(t,i,a);a&&a.contextEntered&&a.contextEntered(r,s),o(s)}};var L=["/",".","*","+","?","|","(",")","[","]","{","}","\\"],U=new RegExp("(\\"+L.join("|\\")+")","g"),Q=!1;u.prototype={eachChar:function(t){for(var e,n=this.string,r=0,o=n.length;r<o;r++)e=n.charAt(r),t({validChars:e})},regex:function(){return this.string.replace(U,"\\$1")},generate:function(){return this.string}},h.prototype={eachChar:function(t){t({invalidChars:"/",repeat:!0})},regex:function(){return"([^/]+)"},generate:function(t){var e=t[this.name];return null==e?":"+this.name:e}},l.prototype={eachChar:function(t){t({invalidChars:"",repeat:!0})},regex:function(){return"(.+)"},generate:function(t){var e=t[this.name];return null==e?":"+this.name:e}},p.prototype={eachChar:function(){},regex:function(){return""},generate:function(){return""}},f.prototype={get:function(t){for(var e=this.nextStates,n=0,r=e.length;n<r;n++){var o=e[n],a=o.charSpec.validChars===t.validChars;if(a=a&&o.charSpec.invalidChars===t.invalidChars)return o}},put:function(t){var e;return(e=this.get(t))?e:(e=new f(t),this.nextStates.push(e),t.repeat&&e.nextStates.push(e),e)},match:function(t){for(var e,n,r,o=this.nextStates,a=[],i=0,s=o.length;i<s;i++)e=o[i],n=e.charSpec,"undefined"!=typeof(r=n.validChars)?r.indexOf(t)!==-1&&a.push(e):"undefined"!=typeof(r=n.invalidChars)&&r.indexOf(t)===-1&&a.push(e);return a}};var N=Object.create||function(t){function e(){}return e.prototype=t,new e};m.prototype=N({splice:Array.prototype.splice,slice:Array.prototype.slice,push:Array.prototype.push,length:0,queryParams:null});var G=function(){this.rootState=new f,this.names={}};G.prototype={add:function(t,e){for(var n,r=this.rootState,o="^",a={},i=[],s=[],c=!0,u=0,h=t.length;u<h;u++){var l=t[u],f=[],v=d(l.path,f,a);s=s.concat(v);for(var g=0,m=v.length;g<m;g++){var y=v[g];y instanceof p||(c=!1,r=r.put({validChars:"/"}),o+="/",r=_(r,y),o+=y.regex())}var b={handler:l.handler,names:f};i.push(b)}c&&(r=r.put({validChars:"/"}),o+="/"),r.handlers=i,r.regex=new RegExp(o+"$"),r.specificity=a,(n=e&&e.as)&&(this.names[n]={segments:s,handlers:i})},handlersFor:function(t){var e=this.names[t],n=[];if(!e)throw new Error("There is no route named "+t);for(var r=0,o=e.handlers.length;r<o;r++)n.push(e.handlers[r]);return n},hasRoute:function(t){return!!this.names[t]},generate:function(t,e){var n=this.names[t],r="";if(!n)throw new Error("There is no route named "+t);for(var o=n.segments,a=0,i=o.length;a<i;a++){var s=o[a];s instanceof p||(r+="/",r+=s.generate(e))}return"/"!==r.charAt(0)&&(r="/"+r),e&&e.queryParams&&(r+=this.generateQueryString(e.queryParams)),r},generateQueryString:function(t){var e=[],n=[];for(var r in t)t.hasOwnProperty(r)&&n.push(r);n.sort();for(var o=0,a=n.length;o<a;o++){r=n[o];var i=t[r];if(null!=i){var s=encodeURIComponent(r);if(c(i))for(var u=0,h=i.length;u<h;u++){var l=r+"[]="+encodeURIComponent(i[u]);e.push(l)}else s+="="+encodeURIComponent(i),e.push(s)}}return 0===e.length?"":"?"+e.join("&")},parseQueryString:function(t){for(var e=t.split("&"),n={},r=0;r<e.length;r++){var o,a=e[r].split("="),i=b(a[0]),s=i.length,c=!1;1===a.length?o="true":(s>2&&"[]"===i.slice(s-2)&&(c=!0,i=i.slice(0,s-2),n[i]||(n[i]=[])),o=a[1]?b(a[1]):""),c?n[i].push(o):n[i]=o}return n},recognize:function(t,e){Q=e;var n,r,o,a,i=[this.rootState],c={},u=!1;if(a=t.indexOf("?"),a!==-1){var h=t.substr(a+1,t.length);t=t.substr(0,a),h&&(c=this.parseQueryString(h))}if(t=s(t)){for("/"!==t.charAt(0)&&(t="/"+t),n=t.length,n>1&&"/"===t.charAt(n-1)&&(t=t.substr(0,n-1),u=!0),r=0,o=t.length;r<o&&(i=g(i,t.charAt(r)),i.length);r++);var l=[];for(r=0,o=i.length;r<o;r++)i[r].handlers&&l.push(i[r]);i=v(l);var p=l[0];return p&&p.handlers?(u&&"(.+)$"===p.regex.source.slice(-5)&&(t+="/"),y(p,t,c)):void 0}}},G.prototype.map=a;var Y=G.prototype.generateQueryString,J={},K=void 0,X=/#.*$/,Z=function(){function t(e){var n=e.root,r=e.onChange;F.classCallCheck(this,t),n&&"/"!==n?("/"!==n.charAt(0)&&(n="/"+n),this.root=n.replace(/\/$/,""),this.rootRE=new RegExp("^\\"+this.root)):this.root=null,this.onChange=r;var o=document.querySelector("base");this.base=o&&o.getAttribute("href")}return t.prototype.start=function(){var t=this;this.listener=function(e){var n=location.pathname+location.search;t.root&&(n=n.replace(t.rootRE,"")),t.onChange(n,e&&e.state,location.hash)},window.addEventListener("popstate",this.listener),this.listener()},t.prototype.stop=function(){window.removeEventListener("popstate",this.listener)},t.prototype.go=function(t,e,n){var r=this.formatPath(t,n);e?history.replaceState({},"",r):(history.replaceState({pos:{x:window.pageXOffset,y:window.pageYOffset}},"",location.href),history.pushState({},"",r));var o=t.match(X),a=o&&o[0];t=r.replace(X,"").replace(this.rootRE,""),this.onChange(t,null,a)},t.prototype.formatPath=function(t,e){return"/"===t.charAt(0)?this.root?this.root+"/"+t.replace(/^\//,""):t:x(this.base||location.pathname,t,e)},t}(),W=function(){function t(e){var n=e.hashbang,r=e.onChange;F.classCallCheck(this,t),this.hashbang=n,this.onChange=r}return t.prototype.start=function(){var t=this;this.listener=function(){var e=location.hash,n=e.replace(/^#!?/,"");"/"!==n.charAt(0)&&(n="/"+n);var r=t.formatPath(n);if(r!==e)return void location.replace(r);var o=location.search&&e.indexOf("?")>-1?"&"+location.search.slice(1):location.search;t.onChange(e.replace(/^#!?/,"")+o)},window.addEventListener("hashchange",this.listener),this.listener()},t.prototype.stop=function(){window.removeEventListener("hashchange",this.listener)},t.prototype.go=function(t,e,n){t=this.formatPath(t,n),e?location.replace(t):location.hash=t},t.prototype.formatPath=function(t,e){var n="/"===t.charAt(0),r="#"+(this.hashbang?"!":"");return n?r+t:r+x(location.hash.replace(/^#!?/,""),t,e)},t}(),tt=function(){function t(e){var n=e.onChange;F.classCallCheck(this,t),this.onChange=n,this.currentPath="/"}return t.prototype.start=function(){this.onChange("/")},t.prototype.stop=function(){},t.prototype.go=function(t,e,n){t=this.currentPath=this.formatPath(t,n),this.onChange(t)},t.prototype.formatPath=function(t,e){return"/"===t.charAt(0)?t:x(this.currentPath,t,e)},t}(),et=function(){function t(e,n,r){F.classCallCheck(this,t),this.router=e,this.to=n,this.from=r,this.next=null,this.aborted=!1,this.done=!1}return t.prototype.abort=function(){if(!this.aborted){this.aborted=!0;var t=!this.from.path&&"/"===this.to.path;t||this.router.replace(this.from.path||"/")}},t.prototype.redirect=function(t){this.aborted||(this.aborted=!0,"string"==typeof t?t=$(t,this.to.params,this.to.query):(t.params=t.params||this.to.params,t.query=t.query||this.to.query),this.router.replace(t))},t.prototype.start=function(t){for(var e=this,n=[],r=this.router._rootView;r;)n.unshift(r),r=r.childView;var o=n.slice().reverse(),a=this.activateQueue=H(this.to.matched).map(function(t){return t.handler}),i=void 0,s=void 0;for(i=0;i<o.length&&A(o[i],a[i],e);i++);i>0&&(s=o.slice(0,i),n=o.slice(i).reverse(),a=a.slice(i)),e.runQueue(n,D,function(){e.runQueue(a,E,function(){e.runQueue(n,O,function(){if(e.router._onTransitionValidated(e),s&&s.forEach(function(t){return M(t,e)}),n.length){var r=n[n.length-1],o=s?s.length:0;T(r,e,o,t)}else t()})})})},t.prototype.runQueue=function(t,e,n){function r(a){a>=t.length?n():e(t[a],o,function(){r(a+1)})}var o=this;r(0)},t.prototype.callHook=function(t,e,n){var r=arguments.length<=3||void 0===arguments[3]?{}:arguments[3],o=r.expectBoolean,a=void 0!==o&&o,i=r.postActivate,s=void 0!==i&&i,c=r.processData,u=r.cleanup,h=this,l=!1,p=function(){u&&u(),h.abort()},d=function(t){if(s?v():p(),t&&!h.router._suppress)throw w("Uncaught error during transition: "),t instanceof Error?t:new Error(t)},f=function(t){try{d(t)}catch(e){setTimeout(function(){throw e},0)}},v=function(){return l?void w("transition.next() should be called only once."):(l=!0,h.aborted?void(u&&u()):void(n&&n()))},g=function(e){"boolean"==typeof e?e?v():p():k(e)?e.then(function(t){t?v():p()},f):t.length||v()},m=function(t){var e=void 0;try{e=c(t)}catch(n){return d(n)}k(e)?e.then(v,f):v()},y={to:h.to,from:h.from,abort:p,next:c?m:v,redirect:function(){h.redirect.apply(h,arguments)}},_=void 0;try{_=t.call(e,y)}catch(b){return d(b)}a?g(_):k(_)?c?_.then(m,f):_.then(v,f):c&&j(_)?m(_):t.length||v()},t.prototype.callHooks=function(t,e,n,r){var o=this;Array.isArray(t)?this.runQueue(t,function(t,n,a){o.aborted||o.callHook(t,e,a,r)},n):this.callHook(t,e,n,r)},t}(),nt=/^(component|subRoutes|fullPath)$/,rt=function ht(t,e){var n=this;F.classCallCheck(this,ht);var r=e._recognizer.recognize(t);r&&([].forEach.call(r,function(t){for(var e in t.handler)nt.test(e)||(n[e]=t.handler[e])}),this.query=r.queryParams,this.params=[].reduce.call(r,function(t,e){if(e.params)for(var n in e.params)t[n]=e.params[n];return t},{})),this.path=t,this.matched=r||e._notFoundHandler,Object.defineProperty(this,"router",{enumerable:!1,value:e}),Object.freeze(this)},ot=/\/$/,at=/[-.*+?^${}()|[\]\/\\]/g,it=/\?.*$/,st={"abstract":tt,hash:W,html5:Z},ct=void 0,ut=function(){function t(){var e=this,n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],r=n.hashbang,o=void 0===r||r,a=n["abstract"],i=void 0!==a&&a,s=n.history,c=void 0!==s&&s,u=n.saveScrollPosition,h=void 0!==u&&u,l=n.transitionOnLoad,p=void 0!==l&&l,d=n.suppressTransitionError,f=void 0!==d&&d,v=n.root,g=void 0===v?null:v,m=n.linkActiveClass,y=void 0===m?"v-link-active":m;if(F.classCallCheck(this,t),!t.installed)throw new Error("Please install the Router with Vue.use() before creating an instance.");this.app=null,this._children=[],this._recognizer=new G,this._guardRecognizer=new G,this._started=!1,this._startCb=null,this._currentRoute={},this._currentTransition=null,this._previousTransition=null,this._notFoundHandler=null,this._notFoundRedirect=null,this._beforeEachHooks=[],this._afterEachHooks=[],this._rendered=!1,this._transitionOnLoad=p,this._root=g,this._abstract=i,this._hashbang=o;var _="undefined"!=typeof window&&window.history&&window.history.pushState;this._history=c&&_,this._historyFallback=c&&!_;var b=ct.util.inBrowser;this.mode=!b||this._abstract?"abstract":this._history?"html5":"hash";var w=st[this.mode];this.history=new w({root:g,hashbang:this._hashbang,onChange:function(t,n,r){e._match(t,n,r)}}),this._saveScrollPosition=h,this._linkActiveClass=y,this._suppress=f}return t.prototype.map=function(t){for(var e in t)this.on(e,t[e]);return this},t.prototype.on=function(t,e){return"*"===t?this._notFound(e):this._addRoute(t,e,[]),this},t.prototype.redirect=function(t){for(var e in t)this._addRedirect(e,t[e]);return this},t.prototype.alias=function(t){for(var e in t)this._addAlias(e,t[e]);return this},t.prototype.beforeEach=function(t){return this._beforeEachHooks.push(t),this},t.prototype.afterEach=function(t){return this._afterEachHooks.push(t),this},t.prototype.go=function(t){var e=!1,n=!1;ct.util.isObject(t)&&(e=t.replace,n=t.append),t=this.stringifyPath(t),t&&this.history.go(t,e,n)},t.prototype.replace=function(t){"string"==typeof t&&(t={path:t}),t.replace=!0,this.go(t)},t.prototype.start=function(t,e,n){if(this._started)return void w("already started.");if(this._started=!0,this._startCb=n,!this.app){if(!t||!e)throw new Error("Must start vue-router with a component and a root container.");if(t instanceof ct)throw new Error("Must start vue-router with a component, not a Vue instance.");this._appContainer=e;var r=this._appConstructor="function"==typeof t?t:ct.extend(t);r.options.name=r.options.name||"RouterApp"}if(this._historyFallback){var o=window.location,a=new Z({root:this._root}),i=a.root?o.pathname.replace(a.rootRE,""):o.pathname;if(i&&"/"!==i)return void o.assign((a.root||"")+"/"+this.history.formatPath(i)+o.search)}this.history.start()},t.prototype.stop=function(){this.history.stop(),this._started=!1},t.prototype.stringifyPath=function(t){var e="";if(t&&"object"==typeof t){if(t.name){var n=ct.util.extend,r=this._currentTransition&&this._currentTransition.to.params,o=t.params||{},a=r?n(n({},r),o):o;e=encodeURI(this._recognizer.generate(t.name,a))}else t.path&&(e=encodeURI(t.path));if(t.query){var i=this._recognizer.generateQueryString(t.query);e+=e.indexOf("?")>-1?"&"+i.slice(1):i}}else e=encodeURI(t?t+"":"");return e},t.prototype._addRoute=function(t,e,n){if(q(t,e),e.path=t,e.fullPath=(n.reduce(function(t,e){return t+e.path},"")+t).replace("//","/"),n.push({path:t,handler:e}),this._recognizer.add(n,{as:e.name}),e.subRoutes)for(var r in e.subRoutes)this._addRoute(r,e.subRoutes[r],n.slice())},t.prototype._notFound=function(t){q("*",t),this._notFoundHandler=[{handler:t}]},t.prototype._addRedirect=function(t,e){"*"===t?this._notFoundRedirect=e:this._addGuard(t,e,this.replace)},t.prototype._addAlias=function(t,e){this._addGuard(t,e,this._match)},t.prototype._addGuard=function(t,e,n){var r=this;this._guardRecognizer.add([{path:t,handler:function(t,o){var a=$(e,t.params,o);n.call(r,a)}}])},t.prototype._checkGuard=function(t){var e=this._guardRecognizer.recognize(t,!0);return e?(e[0].handler(e[0],e.queryParams),!0):this._notFoundRedirect&&(e=this._recognizer.recognize(t),!e)?(this.replace(this._notFoundRedirect),!0):void 0},t.prototype._match=function(t,e,n){var r=this;if(!this._checkGuard(t)){var o=this._currentRoute,a=this._currentTransition;if(a){if(a.to.path===t)return;if(o.path===t)return a.aborted=!0,void(this._currentTransition=this._prevTransition);a.aborted=!0}var i=new rt(t,this),s=new et(this,i,o);this._prevTransition=a,this._currentTransition=s,this.app||!function(){var t=r;r.app=new r._appConstructor({el:r._appContainer,created:function(){this.$router=t},_meta:{$route:i}})}();var c=this._beforeEachHooks,u=function(){s.start(function(){r._postTransition(i,e,n)})};c.length?s.runQueue(c,function(t,e,n){s===r._currentTransition&&s.callHook(t,null,n,{expectBoolean:!0})},u):u(),!this._rendered&&this._startCb&&this._startCb.call(null),this._rendered=!0}},t.prototype._onTransitionValidated=function(t){var e=this._currentRoute=t.to;this.app.$route!==e&&(this.app.$route=e,this._children.forEach(function(t){t.$route=e})),this._afterEachHooks.length&&this._afterEachHooks.forEach(function(e){return e.call(null,{to:t.to,from:t.from})}),this._currentTransition.done=!0},t.prototype._postTransition=function(t,e,n){var r=e&&e.pos;r&&this._saveScrollPosition?ct.nextTick(function(){window.scrollTo(r.x,r.y)}):n&&ct.nextTick(function(){var t=document.getElementById(n.slice(1));t&&window.scrollTo(window.scrollX,t.offsetTop)})},t}();return ut.installed=!1,ut.install=function(t){return ut.installed?void w("already installed."):(ct=t,I(ct),z(ct),B(ct),J.Vue=ct,void(ut.installed=!0))},"undefined"!=typeof window&&window.Vue&&window.Vue.use(ut),ut})}});
//# sourceMappingURL=app.3036bf3700dd06b12eba.js.map